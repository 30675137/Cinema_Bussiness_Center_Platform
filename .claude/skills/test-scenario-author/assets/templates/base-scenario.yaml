# @spec T001-e2e-scenario-author
# E2E Scenario Template - 基础 YAML 模板
# 所有必需字段都已包含，请根据实际场景修改

scenario_id: E2E-MODULE-001  # 格式: E2E-<MODULE>-<NUMBER> (如 E2E-ORDER-001)
spec_ref: X###                # 关联的项目规格 ID (如 P005, O003)
title: 场景标题                 # 1-100 字符，描述性标题
description: 场景详细描述（可选） # 可选，补充说明

tags:
  module: [module_name]       # 必需：功能模块 (order, inventory, store, etc.)
  channel: [channel_name]     # 必需：渠道类型 (miniapp, h5, web, app)
  deploy: [deploy_type]       # 必需：部署类型 (saas, onprem)
  priority: p1                # 可选：优先级 (p1, p2, p3)
  smoke: false                # 可选：是否为冒烟测试

preconditions:
  role: normal_user           # 必需：用户角色 (admin, normal_user, guest, manager)
  testdata_ref: testData.key  # 可选：测试数据引用 (格式: <dataset>.<key>)

steps:
  - action: login             # 必需：操作名称
    params:
      testdata_ref: userTestData.user_001  # 使用 testdata_ref，不要硬编码数据
    description: 可选步骤说明
    wait: 1000                # 可选：等待时间(毫秒)

  - action: navigate
    params:
      page: target_page

  - action: submit_form
    params:
      testdata_ref: formTestData.form_001

assertions:
  - type: ui                  # 断言类型: ui 或 api
    check: element_visible    # 断言条件
    params:
      element: success_message
    timeout: 5000             # 可选：超时时间(毫秒)

  - type: api
    check: response_status_is
    params:
      expected: 200

artifacts:                    # 可选：工件捕获配置
  trace: on-failure           # on, off, on-failure, retain-on-failure
  video: on-failure
  screenshot: only-on-failure

metadata:                     # 可选：元数据
  created_at: "2025-12-30T00:00:00Z"
  created_by: qa_engineer
  version: "1.0.0"
