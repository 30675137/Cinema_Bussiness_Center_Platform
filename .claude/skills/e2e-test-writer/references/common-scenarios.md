# 常见业务场景测试模板

## 1. 商品管理场景

### 场景 1.1: 商品创建到上架
**业务流程**: 创建商品 → 配置SKU → 设置价格 → 上传图片 → 提交审核 → 审核通过 → 上架

**测试关键点**:
- 商品基本信息完整性
- SKU规格组合正确性
- 价格设置合理性
- 图片上传成功
- 审核流程正常
- 上架后可见性

---

## 2. 库存管理场景

### 场景 2.1: 库存调整流程
**业务流程**: 选择SKU → 填写调整数量 → 选择调整原因 → 提交审批 → 审批通过 → 库存更新 → 生成调整记录

**测试关键点**:
- 库存锁定正确
- 调整原因必填
- 审批流程正常
- 库存实时更新
- 调整记录可追溯

### 场景 2.2: 库存扣减与回退
**业务流程**: 下单锁定库存 → 支付扣减库存 → 取消订单释放库存

**测试关键点**:
- 下单时库存预占
- 支付后库存扣减
- 取消订单库存释放
- 并发场景库存准确性
- 库存日志完整

---

## 3. 订单管理场景

### 场景 3.1: C端小程序下单完整流程
**业务流程**:
```
商品配置（B端）
  ↓
渠道发布（B端）
  ↓
小程序获取商品（C端）
  ↓
加入购物车（C端）
  ↓
提交订单（C端）
  ↓
库存锁定（系统）
  ↓
支付（C端）
  ↓
库存扣减（系统）
  ↓
订单中心查询（B端）
  ↓
订单状态流转（B端/C端）
  ↓
完成/取消（C端）
```

**关键节点**:
1. **商品配置**: 商品信息、SKU、价格、库存
2. **渠道发布**: 选择渠道（小程序）、设置上架时间
3. **小程序获取**: 商品列表展示、详情查看
4. **加入购物车**: 购物车数量、价格计算
5. **提交订单**: 地址选择、优惠券使用、总价计算
6. **库存锁定**: 库存预占、超时释放
7. **支付**: 支付方式选择、支付成功/失败
8. **库存扣减**: 实际库存扣减、库存日志
9. **订单查询**: 订单列表、订单详情、筛选搜索
10. **订单流转**: 待支付 → 待发货 → 已发货 → 已完成
11. **异常处理**: 取消订单、申请退款

### 场景 3.2: 订单取消与库存回退
**业务流程**: 创建订单 → 锁定库存 → 取消订单 → 释放库存 → 更新订单状态

**测试关键点**:
- 取消订单后库存立即释放
- 已支付订单不能直接取消
- 库存回退日志记录

### 场景 3.3: 订单退款流程
**业务流程**: 申请退款 → 审核退款 → 退款成功 → 库存回退 → 订单状态更新

**测试关键点**:
- 退款申请提交
- 审核流程正常
- 退款金额正确
- 库存正确回退
- 退款记录可查

---

## 4. 会员系统场景

### 场景 4.1: 会员注册到消费
**业务流程**: 注册账号 → 完善信息 → 下单消费 → 获得积分 → 积分抵扣 → 会员升级

**测试关键点**:
- 注册信息完整性
- 积分获取规则
- 积分抵扣计算
- 会员等级升级

---

## 5. 促销系统场景

### 场景 5.1: 优惠券发放到使用
**业务流程**: 创建优惠券 → 设置规则 → 发放优惠券 → 用户领取 → 下单使用 → 优惠计算 → 优惠券核销

**测试关键点**:
- 优惠券规则配置
- 领取限制（次数、时间）
- 使用条件验证
- 优惠金额计算
- 优惠券状态更新

### 场景 5.2: 满减促销
**业务流程**: 配置满减活动 → 设置门槛和优惠 → 用户下单 → 自动计算优惠 → 订单确认

**测试关键点**:
- 满减规则配置
- 门槛金额验证
- 优惠金额计算
- 多促销叠加规则

---

## 6. BOM原料管理场景

### 场景 6.1: BOM配置到消耗
**业务流程**: 创建成品 → 配置BOM → 绑定原料 → 设置消耗比例 → 订单生产 → 原料扣减 → 成品入库

**测试关键点**:
- BOM配置正确性
- 原料消耗比例
- 原料库存扣减
- 成品库存增加
- BOM变更影响

---

## 7. 多渠道发布场景

### 场景 7.1: 商品多渠道发布
**业务流程**: 配置商品 → 选择发布渠道（小程序/H5/App） → 设置渠道差异化价格 → 发布 → 渠道同步 → 用户可见

**测试关键点**:
- 多渠道选择
- 渠道差异化配置
- 发布同步成功
- 各渠道展示一致

---

## 8. 数据同步场景

### 场景 8.1: B端配置到C端展示
**业务流程**: B端配置商品 → 数据同步 → C端接口获取 → C端页面展示

**测试关键点**:
- 数据同步时效
- 数据完整性
- 接口响应正确
- 页面展示正常

---

## 测试用例编写要素

### 基本结构
1. **用例ID**: 唯一标识
2. **用例标题**: 简明扼要
3. **前置条件**: 测试前的准备工作
4. **测试步骤**: 详细操作步骤
5. **预期结果**: 每步的预期输出
6. **实际结果**: 执行后填写
7. **测试数据**: 使用的测试数据
8. **优先级**: 高/中/低

### 示例
```markdown
**用例ID**: TC-ORDER-001
**用例标题**: 小程序正常下单流程
**优先级**: 🔴 高
**前置条件**:
- 商品已配置并发布到小程序渠道
- 商品库存充足（≥10）
- 用户已登录小程序
- 用户已设置收货地址

**测试步骤**:
1. 打开小程序商品列表
2. 点击商品进入详情页
3. 选择规格（颜色：红色，尺寸：M）
4. 点击"加入购物车"
5. 进入购物车页面
6. 点击"去结算"
7. 选择收货地址
8. 选择支付方式（微信支付）
9. 点击"提交订单"
10. 完成支付

**预期结果**:
1. ✅ 商品列表正常展示，包含商品图片、名称、价格
2. ✅ 商品详情展示完整，包含规格选择器
3. ✅ 规格选择成功，价格更新为对应SKU价格
4. ✅ 加入购物车成功，购物车角标+1
5. ✅ 购物车展示商品信息、数量、小计
6. ✅ 跳转至订单确认页
7. ✅ 收货地址选择成功
8. ✅ 支付方式选择成功
9. ✅ 订单创建成功，返回订单号，库存锁定
10. ✅ 支付成功，订单状态更新为"待发货"，库存扣减

**测试数据**:
- 商品ID: SKU001
- 商品名称: 测试商品A
- 规格: 红色/M
- 价格: ¥99.00
- 库存: 100
```
