# æ¨¡å—å‰ç¼€è¿ç§»æŒ‡å—

**å°†ç°æœ‰ä»£ç ä¸­çš„æ¨¡å—å‰ç¼€è¿ç§»åˆ°æ–°çš„ç»Ÿä¸€è§„èŒƒ**

## ğŸ“Š éœ€è¦ä¿®æ­£çš„å‰ç¼€

### 1. åº“å­˜æ¨¡å—ï¼šP â†’ I

**é—®é¢˜**ï¼šåº“å­˜ç›¸å…³åŠŸèƒ½é”™è¯¯åœ°ä½¿ç”¨äº† `P` (Product) å‰ç¼€

**å½±å“èŒƒå›´**ï¼š
- `frontend/src/components/layout/AppLayout.tsx` èœå•é…ç½®
- ç›¸å…³ä»£ç æ–‡ä»¶çš„ `@spec` æ ‡è¯†

**ä¿®æ­£æ¸…å•**ï¼š

| å½“å‰ï¼ˆé”™è¯¯ï¼‰ | åº”è¯¥æ”¹ä¸º | ä½ç½® | è¯´æ˜ |
|------------|---------|------|------|
| `P003-åº“å­˜æŸ¥è¯¢` | `I003-åº“å­˜æŸ¥è¯¢` | AppLayout.tsx:263 | åº“å­˜æŸ¥è¯¢åŠŸèƒ½ |
| `P004-åº“å­˜å°è´¦æŸ¥çœ‹` | `I004-åº“å­˜å°è´¦æŸ¥çœ‹` | AppLayout.tsx:267 | åº“å­˜å°è´¦åŠŸèƒ½ |
| `P004-åº“å­˜è°ƒæ•´å®¡æ‰¹` | `I005-åº“å­˜è°ƒæ•´å®¡æ‰¹` | AppLayout.tsx:271 | åº“å­˜è°ƒæ•´å®¡æ‰¹ï¼ˆç¼–å·å†²çªï¼Œæ”¹ä¸º I005ï¼‰ |

**ä¿®æ­£æ­¥éª¤**ï¼š

```bash
# 1. æ›´æ–°èœå•é…ç½®
# ç¼–è¾‘ frontend/src/components/layout/AppLayout.tsx

# ä¿®æ”¹å‰ï¼š
{
  key: '/inventory/query',
  label: 'P003-åº“å­˜æŸ¥è¯¢',
}

# ä¿®æ”¹åï¼š
{
  key: '/inventory/query',
  label: 'I003-åº“å­˜æŸ¥è¯¢',
}

# 2. æ›´æ–°ä»£ç ä¸­çš„ @spec æ ‡è¯†
# æŸ¥æ‰¾æ‰€æœ‰ä½¿ç”¨ P003, P004 çš„åº“å­˜ç›¸å…³ä»£ç 
grep -r "@spec P003" frontend/src/
grep -r "@spec P004" frontend/src/

# 3. æ›¿æ¢ä¸ºæ–°çš„æ ‡è¯†
# @spec P003 â†’ @spec I003
# @spec P004 â†’ @spec I004
```

### 2. å“ç‰Œç®¡ç†ï¼šP â†’ B

**é—®é¢˜**ï¼šå“ç‰Œç®¡ç†ä½¿ç”¨äº† `P` (Product) å‰ç¼€ï¼Œåº”è¯¥ç”¨ `B` (Brand)

**ä¿®æ­£æ¸…å•**ï¼š

| å½“å‰ï¼ˆé”™è¯¯ï¼‰ | åº”è¯¥æ”¹ä¸º | ä½ç½® | è¯´æ˜ |
|------------|---------|------|------|
| `P001-å“ç‰Œç®¡ç†` | `B001-å“ç‰Œç®¡ç†` | AppLayout.tsx:91 | å“ç‰Œç®¡ç†åŠŸèƒ½ |

**ä¿®æ­£æ­¥éª¤**ï¼š

```bash
# æ›´æ–°èœå•é…ç½®
# frontend/src/components/layout/AppLayout.tsx

# ä¿®æ”¹å‰ï¼š
{
  key: '/mdm-pim/brands',
  label: 'P001-å“ç‰Œç®¡ç†',
}

# ä¿®æ”¹åï¼š
{
  key: '/mdm-pim/brands',
  label: 'B001-å“ç‰Œç®¡ç†',
}
```

### 3. å•†å“ç®¡ç†ï¼šè°ƒæ•´ç¼–å·

**é—®é¢˜**ï¼šå“ç‰Œç®¡ç†å ç”¨äº† P001ï¼Œéœ€è¦é‡æ–°åˆ†é… SPU/SKU ç¼–å·

**ä¿®æ­£æ¸…å•**ï¼š

| å½“å‰ | å»ºè®®æ”¹ä¸º | ä½ç½® | è¯´æ˜ |
|------|---------|------|------|
| `P001-SPU ç®¡ç†` | `P002-SPU ç®¡ç†` | AppLayout.tsx:99 | SPU ç®¡ç†ï¼ˆé¿å…ä¸å“ç‰Œå†²çªï¼‰ |
| `P001-SKU ç®¡ç†` | `P003-SKU ç®¡ç†` | AppLayout.tsx:104 | SKU ç®¡ç† |

**æˆ–è€…ä¿æŒä¸å˜**ï¼š

å¦‚æœå“ç‰Œç®¡ç†å·²ç»è¿ç§»åˆ° B001ï¼Œå¯ä»¥ä¿æŒ SPU/SKU ä½¿ç”¨ P001/P002ï¼š

| åŠŸèƒ½ | æ¨è specId | è¯´æ˜ |
|------|-----------|------|
| å“ç‰Œç®¡ç† | `B001-brand-management` | ä½¿ç”¨ B å‰ç¼€ |
| SPU ç®¡ç† | `P001-spu-management` | ä½¿ç”¨ P å‰ç¼€ |
| SKU ç®¡ç† | `P002-sku-management` | ä½¿ç”¨ P å‰ç¼€ |
| åº“å­˜æŸ¥è¯¢ | `I003-inventory-query` | ä½¿ç”¨ I å‰ç¼€ |
| åº“å­˜å°è´¦ | `I004-inventory-ledger` | ä½¿ç”¨ I å‰ç¼€ |

## ğŸ”§ æ‰¹é‡ä¿®æ­£è„šæœ¬

### æ–¹æ¡ˆ Aï¼šä½¿ç”¨ sed æ‰¹é‡æ›¿æ¢

```bash
#!/bin/bash
# æ‰¹é‡æ›¿æ¢èœå•é…ç½®ä¸­çš„æ¨¡å—å‰ç¼€

FILE="frontend/src/components/layout/AppLayout.tsx"

# å¤‡ä»½åŸæ–‡ä»¶
cp "$FILE" "$FILE.backup"

# åº“å­˜æ¨¡å—ï¼šP â†’ I
sed -i '' 's/P003-åº“å­˜æŸ¥è¯¢/I003-åº“å­˜æŸ¥è¯¢/g' "$FILE"
sed -i '' 's/P004-åº“å­˜å°è´¦æŸ¥çœ‹/I004-åº“å­˜å°è´¦æŸ¥çœ‹/g' "$FILE"
sed -i '' 's/P004-åº“å­˜è°ƒæ•´å®¡æ‰¹/I005-åº“å­˜è°ƒæ•´å®¡æ‰¹/g' "$FILE"

# å“ç‰Œç®¡ç†ï¼šP â†’ B
sed -i '' 's/P001-å“ç‰Œç®¡ç†/B001-å“ç‰Œç®¡ç†/g' "$FILE"

echo "âœ… æ¨¡å—å‰ç¼€å·²æ›´æ–°"
echo "å¤‡ä»½æ–‡ä»¶: $FILE.backup"
echo "è¯·æ£€æŸ¥æ›´æ–°åçš„æ–‡ä»¶å¹¶æµ‹è¯•"
```

### æ–¹æ¡ˆ Bï¼šæ‰‹åŠ¨é€ä¸ªä¿®æ­£ï¼ˆæ¨èï¼‰

**æ›´å®‰å…¨ï¼Œå¯ä»¥ä»”ç»†æ£€æŸ¥æ¯å¤„ä¿®æ”¹**

1. **æ‰“å¼€æ–‡ä»¶**ï¼š`frontend/src/components/layout/AppLayout.tsx`

2. **å®šä½å¹¶ä¿®æ”¹åº“å­˜æ¨¡å—**ï¼ˆçº¦ 260-272 è¡Œï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰ï¼š
   {
     key: '/inventory/query',
     label: 'P003-åº“å­˜æŸ¥è¯¢',
   },
   {
     key: '/inventory/ledger',
     label: 'P004-åº“å­˜å°è´¦æŸ¥çœ‹',
   },
   {
     key: '/inventory/approvals',
     label: 'P004-åº“å­˜è°ƒæ•´å®¡æ‰¹',
   },

   // ä¿®æ”¹åï¼š
   {
     key: '/inventory/query',
     label: 'I003-åº“å­˜æŸ¥è¯¢',
   },
   {
     key: '/inventory/ledger',
     label: 'I004-åº“å­˜å°è´¦æŸ¥çœ‹',
   },
   {
     key: '/inventory/approvals',
     label: 'I005-åº“å­˜è°ƒæ•´å®¡æ‰¹',  // æ³¨æ„ï¼šæ”¹ä¸º I005ï¼Œé¿å…ä¸ I004 å†²çª
   },
   ```

3. **å®šä½å¹¶ä¿®æ”¹å“ç‰Œç®¡ç†**ï¼ˆçº¦ 91 è¡Œï¼‰ï¼š
   ```typescript
   // ä¿®æ”¹å‰ï¼š
   {
     key: '/mdm-pim/brands',
     label: 'P001-å“ç‰Œç®¡ç†',
   },

   // ä¿®æ”¹åï¼š
   {
     key: '/mdm-pim/brands',
     label: 'B001-å“ç‰Œç®¡ç†',
   },
   ```

4. **ä¿å­˜å¹¶æµ‹è¯•**ï¼š
   ```bash
   npm run dev
   # æ£€æŸ¥èœå•æ˜¾ç¤ºæ˜¯å¦æ­£ç¡®
   ```

## ğŸ“ ä»£ç ä¸­çš„ @spec æ ‡è¯†è¿ç§»

### æŸ¥æ‰¾éœ€è¦æ›´æ–°çš„æ–‡ä»¶

```bash
# æŸ¥æ‰¾æ‰€æœ‰ä½¿ç”¨æ—§ specId çš„æ–‡ä»¶
grep -r "@spec P003" frontend/src/
grep -r "@spec P004" frontend/src/
grep -r "@spec P001" frontend/src/ | grep -i "brand"
```

### æ›´æ–° @spec æ ‡è¯†

**ç¤ºä¾‹ 1ï¼šåº“å­˜æŸ¥è¯¢ç»„ä»¶**

```typescript
// ä¿®æ”¹å‰ï¼š
/**
 * @spec P003-inventory-query
 * åº“å­˜æŸ¥è¯¢é¡µé¢
 */
export const InventoryQueryPage = () => {
  // ...
}

// ä¿®æ”¹åï¼š
/**
 * @spec I003-inventory-query
 * åº“å­˜æŸ¥è¯¢é¡µé¢
 */
export const InventoryQueryPage = () => {
  // ...
}
```

**ç¤ºä¾‹ 2ï¼šå“ç‰Œç®¡ç†ç»„ä»¶**

```typescript
// ä¿®æ”¹å‰ï¼š
/**
 * @spec P001-brand-management
 * å“ç‰Œç®¡ç†é¡µé¢
 */
export const BrandManagementPage = () => {
  // ...
}

// ä¿®æ”¹åï¼š
/**
 * @spec B001-brand-management
 * å“ç‰Œç®¡ç†é¡µé¢
 */
export const BrandManagementPage = () => {
  // ...
}
```

## âœ… éªŒè¯æ¸…å•

è¿ç§»å®Œæˆåï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] `AppLayout.tsx` èœå•é…ç½®ä¸­æ‰€æœ‰åº“å­˜åŠŸèƒ½ä½¿ç”¨ `I###` å‰ç¼€
- [ ] `AppLayout.tsx` èœå•é…ç½®ä¸­å“ç‰Œç®¡ç†ä½¿ç”¨ `B001` å‰ç¼€
- [ ] æ‰€æœ‰ä»£ç æ–‡ä»¶ä¸­çš„ `@spec` æ ‡è¯†å·²æ›´æ–°
- [ ] æ²¡æœ‰æ¨¡å—å‰ç¼€å†²çªï¼ˆå¦‚ä¸¤ä¸ªåŠŸèƒ½ä½¿ç”¨ç›¸åŒçš„ specIdï¼‰
- [ ] èœå•åœ¨æµè§ˆå™¨ä¸­æ­£å¸¸æ˜¾ç¤º
- [ ] Git æäº¤ä¿¡æ¯æ¸…æ™°è®°å½•äº†è¿ç§»å†…å®¹

## ğŸ¯ æœªæ¥æ–°å¢åŠŸèƒ½çš„å‰ç¼€é€‰æ‹©

ä½¿ç”¨æ–°çš„æ¨¡å—å‰ç¼€è§„åˆ™ï¼š

| åŠŸèƒ½ç±»å‹ | æ¨¡å—å‰ç¼€ | ç¤ºä¾‹ |
|---------|---------|------|
| åº“å­˜ç›¸å…³ | `I` | I006-inventory-reservation |
| å•†å“ç›¸å…³ | `P` | P005-product-attribute |
| å“ç‰Œåˆ†ç±» | `B` | B002-category-management |
| BOM/é…æ–¹ | `M` | M001-material-master |
| é‡‡è´­å…¥åº“ | `N` | N001-purchase-order |
| è®¢å•ç®¡ç† | `O` | O004-order-fulfillment |
| ä»·æ ¼ç®¡ç† | `R` | R001-price-list |
| é—¨åº—æ¡£æœŸ | `S` | S015-schedule-gantt |
| ç”¨æˆ·é¢„çº¦ | `U` | U002-reservation-check |
| æŠ¥è¡¨åˆ†æ | `E` | E001-sales-report |
| ç³»ç»Ÿç®¡ç† | `Y` | Y001-user-management |

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **æ¨¡å—å‰ç¼€è§„åˆ™**: `.claude/rules/01-branch-spec-binding.md`
- **å¿«é€Ÿå‚è€ƒ**: `.claude/rules/MODULE_PREFIXES.md`
- **ä»£ç è´¨é‡è§„èŒƒ**: `.claude/rules/06-code-quality.md`

---

**è¿ç§»æ—¥æœŸ**: 2025-12-30
**å½±å“èŒƒå›´**: èœå•é…ç½®ã€ä»£ç  @spec æ ‡è¯†
**ä¼˜å…ˆçº§**: ä¸­ï¼ˆå»ºè®®åœ¨ä¸‹æ¬¡åŠŸèƒ½å¼€å‘å‰å®Œæˆï¼‰
