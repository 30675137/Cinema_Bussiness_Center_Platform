<!-- Sync Impact Report:
     Version change: 1.7.0 → 1.8.0
     Modified principles:
       - 前端技术栈 -> 前端技术栈（升级Ant Design到6.x版本）
       - 前端架构一致性 -> 前端架构一致性（更新Ant Design版本约束至6.x）
     Added sections: N/A
     Removed sections: N/A
     Templates requiring updates: ⚠ 需要检查并更新前端项目配置和依赖文件
     Follow-up TODOs:
       - 更新前端项目package.json中Ant Design依赖版本到6.x
       - 检查Ant Design 6.x的新特性和破坏性变更
       - 更新前端组件导入和API使用方式以适配Ant Design 6.x
       - 验证Tailwind CSS 4与Ant Design 6.x的兼容性
-->

# 耀莱影城商品管理中台 Constitution

## Core Principles

### I. 统一用户体验 (Unified User Experience)
所有模块（商品、库存、采购、定价）必须遵循一致的交互模式和界面规范，确保运营人员在不同功能间切换时体验连贯。采用左侧导航栏+顶部面包屑的标准后台布局，使用统一的状态颜色系统：蓝色代表待审核/配置中，绿色代表已发布/正常，红色代表异常/驳回/缺货。

### II. 数据驱动决策 (Data-Driven Operations)
系统设计必须以数据质量和可追溯性为核心。所有商品主数据必须经过严格的审核流程，关键修改点必须高亮显示并强制确认。库存变动必须完整记录交易流水，支持实时库存查询和历史追溯，确保数据的准确性和完整性。

### III. 配置化业务管理 (Configurable Business Management)
业务规则（如定价、审核流程）必须支持配置化管理，而非硬编码。价格配置采用配置单模式，支持批量操作和预览功能，允许运营人员在不修改代码的情况下调整业务规则。所有配置变更必须经过审核后才能生效。

### IV. 高效操作流程 (Streamlined Operations)
针对高频操作场景（商品创建、审核、价格配置）必须优化操作路径，减少点击次数。界面设计应支持批量操作，提供智能筛选和快速检索功能，确保运营人员能够高效完成日常工作任务。

### V. 渠道覆写能力 (Channel Override Capability)
PIM内容管理必须支持渠道特定的覆写机制。基础内容统一管理，但允许针对不同销售渠道（如小程序、APP、线下门店）配置特定的展示内容（如短标题、描述），确保各渠道的展示效果最优化。

### VI. 项目状态集成管理 (Integrated Project Status Management)
项目执行必须与Notion需求管理数据库实时同步。在执行plan、task、implement等阶段时，必须自动更新对应数据库记录的状态字段：规划阶段状态为"planning"，任务执行阶段状态为"tasking"，实施阶段状态为"implement"，确保项目进展在工具层面保持一致性和可追溯性。

### VII. 中文文档编写规范 (Chinese Documentation Standards)
所有项目文档、技术文档、用户手册、API文档等都必须使用简体中文编写。包括但不限于：
- 技术架构文档、设计文档、API接口文档
- 用户操作手册、功能说明文档
- 代码注释、README文件、部署文档
- 测试用例、测试报告
- 项目章程、规范标准文档
文档编写应遵循中国大陆地区的中文表达习惯，使用专业准确的术语，避免混合使用英文单词（除非为技术专有名词且无合适中文对应）。

### VIII. 前端架构一致性 (Frontend Architecture Consistency)
前端应用必须遵循统一的架构模式和组件设计规范：
- **技术栈统一**：必须使用React 18 + TypeScript 5.0 + Ant Design 6.x + Tailwind CSS 4技术栈
- **组件设计**：必须采用函数式组件 + Hooks模式，避免类组件
- **样式开发**：必须使用Tailwind CSS 4的utility-first模式，优先使用原子化CSS类，避免自定义CSS文件
- **状态管理**：必须使用Zustand管理客户端状态，TanStack Query管理服务端状态
- **代码组织**：必须采用features模块化架构，清晰分离业务关注点
- **功能优先**：专注于业务功能实现的完整性和正确性，性能优化在生产环境阶段考虑

### IX. 开发范围界定原则 (Development Scope Boundary Principle)
开发过程中必须明确区分核心功能实现和部署运维支持：
- **专注核心功能**：开发阶段专注于业务功能的实现、基础用户体验优化、系统稳定性
- **简化部署要求**：开发阶段采用简化的本地部署和手动发布流程，避免复杂的CI/CD配置
- **排除自动化部署**：开发过程中不考虑自动化构建、持续集成、持续部署等DevOps相关内容
- **排除国际化支持**：开发过程中不考虑多语言支持、国际化框架、本地化配置等功能，专注于简体中文实现
- **排除无障碍功能**：开发过程中不考虑无障碍功能改进、键盘导航支持、屏幕阅读器兼容性等可访问性相关内容
- **排除性能优化**：开发过程中不考虑页面加载时间优化、API响应时间优化、并发用户支持等性能相关要求，专注于功能实现
- **分离关注点**：将开发效率作为首要目标，部署运维、国际化、无障碍功能和性能优化相关内容在生产环境阶段再考虑

## 技术架构约束

### 前端技术栈
- **核心框架**：必须使用React 18 + TypeScript 5.0
- **UI组件库**：必须使用Ant Design 6.x企业级组件库
- **CSS框架**：必须使用Tailwind CSS 4作为主要CSS实现方案，采用utility-first样式开发模式
- **构建工具**：必须使用Vite现代化构建工具，集成Tailwind CSS 4的PostCSS配置
- **状态管理**：必须使用Zustand + TanStack Query组合架构
- **路由管理**：必须使用React Router 6客户端路由
- **表单处理**：必须使用React Hook Form + Zod验证方案
- **测试框架**：必须使用Playwright实现前端E2E测试
- **语言支持**：仅支持简体中文，不需要国际化(i18n)框架和多语言配置

### 系统架构要求
- **微服务架构**：商品管理(MDM/PIM)、库存管理(WMS)、定价中心、采购管理必须为独立服务
- **数据一致性**：跨服务的数据操作必须通过事件驱动机制保证最终一致性
- **API设计**：所有服务间通信必须通过标准RESTful API，支持JSON格式

### 系统扩展性
- **数据规模**：单个门店支持10000+SKU管理，全国多门店部署
- **功能完整性**：确保所有业务功能模块的完整实现和正确运行
- **代码质量**：保持良好的代码结构和可维护性，便于后续功能扩展

### 安全与合规
- **权限控制**：必须实现基于角色的细粒度权限控制(RBAC)
- **操作审计**：所有数据修改操作必须记录操作人、时间、修改内容
- **数据备份**：关键业务数据必须实现实时备份和灾难恢复
- **前端安全**：必须实现XSS防护、CSP头部、JWT认证等前端安全措施

## 开发流程规范

### 代码质量要求
- **代码审查**：所有代码必须经过至少一人审查才能合并
- **自动化测试**：单元测试覆盖率必须达到80%以上，集成测试覆盖核心业务流程
- **前端测试**：前端开发完成后必须使用Playwright实现端到端(E2E)测试，覆盖关键用户流程
- **静态分析**：必须通过代码静态检查，无安全漏洞和性能问题

### 发布管理（开发阶段）
- **环境管理**：开发阶段重点关注开发和测试两个环境，生产环境部署在项目后期考虑
- **发布策略**：开发阶段采用手动发布流程，确保功能稳定性
- **回滚机制**：开发阶段具备基础的版本回退能力，主要通过Git版本控制实现
- **CI/CD排除**：开发过程中不考虑持续集成、持续部署、自动化构建流水线等DevOps内容

### 文档要求
- **中文文档优先**：所有项目文档必须使用简体中文编写
- **API文档**：所有API接口必须提供完整的中文Swagger文档
- **用户手册**：面向运营人员的中文操作手册必须与功能同步更新
- **技术文档**：中文的架构设计、部署指南、故障处理手册必须齐全
- **代码注释**：关键业务逻辑必须使用中文注释说明

## Governance

本章程作为耀莱影城商品管理中台项目的最高指导原则，所有技术决策、架构设计、开发流程都必须遵循本章程规定。

### 章程修订程序
1. **提案阶段**：任何章程修订都需要提交正式的修订提案，说明修订原因、具体变更内容、影响范围
2. **评审阶段**：提案必须经过技术委员会、产品委员会、运营委员会共同评审
3. **批准阶段**：需要项目总监和首席技术官共同签字批准
4. **发布阶段**：修订后需要更新所有相关模板和文档，确保项目成员了解变更

### 合规性检查
- **设计审查**：所有架构设计和重要技术方案必须对照章程进行合规性检查
- **代码审查**：代码审查过程中必须检查是否违反章程原则
- **发布检查**：发布前必须确认所有相关组件符合章程要求
- **文档检查**：发布前必须确认所有文档使用中文编写并符合规范
- **范围检查**：开发过程中必须确保不包含CI/CD、国际化、无障碍功能、性能优化等超出核心功能范围的内容
- **语言检查**：确保不使用国际化框架、多语言配置，仅支持简体中文实现
- **功能检查**：确保专注于核心业务功能实现，不包含无障碍功能和性能优化相关代码

### 版本管理
章程版本采用语义化版本控制(MAJOR.MINOR.PATCH)：
- **MAJOR**：重大架构变更、原则性修改
- **MINOR**：新增原则或约束条件
- **PATCH**：文字优化、说明性修改、中文文档规范细化

**Version**: 1.8.0 | **Ratified**: 2025-12-09 | **Last Amended**: 2025-12-10