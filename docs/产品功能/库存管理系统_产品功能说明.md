# åº“å­˜ç®¡ç†ç³»ç»Ÿ - äº§å“åŠŸèƒ½è¯´æ˜æ–‡æ¡£

**ç‰ˆæœ¬**: V1.0  
**æ—¥æœŸ**: 2025-12-26  
**é€‚ç”¨å¯¹è±¡**: åº—é•¿ã€åº“å­˜ç®¡ç†å‘˜ã€è¿è¥ç®¡ç†äººå‘˜ã€ç³»ç»Ÿå¼€å‘äººå‘˜

---

## ç›®å½•

1. [åŠŸèƒ½æ¦‚è¿°](#1-åŠŸèƒ½æ¦‚è¿°)
2. [ç”¨æˆ·æ•…äº‹](#2-ç”¨æˆ·æ•…äº‹)
3. [ä¸šåŠ¡æµç¨‹](#3-ä¸šåŠ¡æµç¨‹)
4. [ç•Œé¢è¯´æ˜](#4-ç•Œé¢è¯´æ˜)
5. [APIæ¥å£](#5-apiæ¥å£)
6. [æ•°æ®æ¨¡å‹](#6-æ•°æ®æ¨¡å‹)
7. [é™„å½•](#7-é™„å½•)

---

## 1. åŠŸèƒ½æ¦‚è¿°

### 1.1 ç³»ç»Ÿå®šä½

åº“å­˜ç®¡ç†ç³»ç»Ÿæ˜¯é›¶å”®ä¸šåŠ¡ä¸­å°çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œè´Ÿè´£å®æ—¶æŒæ§æ‰€æœ‰ä»“åº“/é—¨åº—çš„åº“å­˜çŠ¶æ€ï¼Œå®ç°åº“å­˜çš„å¯è§†åŒ–ã€å¯è¿½æº¯å’Œç²¾ç»†åŒ–ç®¡ç†ã€‚æœ¬ç³»ç»ŸåŒ…å«ä¸¤å¤§æ ¸å¿ƒæ¨¡å—ï¼š

1. **é—¨åº—SKUåº“å­˜æŸ¥è¯¢ï¼ˆP003-inventory-queryï¼‰**: é¢å‘åº—é•¿çš„åªè¯»æŸ¥è¯¢åŠŸèƒ½ï¼Œæ”¯æŒæŸ¥çœ‹ã€æœç´¢ã€ç­›é€‰é—¨åº—åº“å­˜
2. **åº“å­˜å°è´¦ç®¡ç†ï¼ˆ003-inventory-managementï¼‰**: é¢å‘åº“å­˜ç®¡ç†å‘˜çš„å®Œæ•´åº“å­˜ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬å°è´¦æŸ¥çœ‹ã€æµæ°´è¿½è¸ªã€åº“å­˜è°ƒæ•´

### 1.2 åŠŸèƒ½æ¶æ„

```
åº“å­˜ç®¡ç†ç³»ç»Ÿ
â”œâ”€â”€ é—¨åº—SKUåº“å­˜æŸ¥è¯¢ (P003)
â”‚   â”œâ”€â”€ åº“å­˜åˆ—è¡¨æŸ¥çœ‹
â”‚   â”œâ”€â”€ å…³é”®è¯æœç´¢
â”‚   â”œâ”€â”€ å¤šç»´åº¦ç­›é€‰
â”‚   â””â”€â”€ åº“å­˜è¯¦æƒ…æŸ¥çœ‹
â””â”€â”€ åº“å­˜å°è´¦ç®¡ç† (003)
    â”œâ”€â”€ åº“å­˜å°è´¦æŸ¥çœ‹ä¸ç­›é€‰
    â”œâ”€â”€ åº“å­˜æµæ°´è¿½è¸ªä¸å¯¹è´¦
    â”œâ”€â”€ åº“å­˜è°ƒæ•´ä¸å¼‚å¸¸å¤„ç†
    â””â”€â”€ åº“å­˜è¯¦æƒ…ä¸å¿«é€Ÿæ“ä½œ
```

### 1.3 æ ¸å¿ƒæŒ‡æ ‡

| æŒ‡æ ‡ | è¯´æ˜ | è®¡ç®—å…¬å¼ |
|------|------|---------|
| **ç°å­˜æ•°é‡** | å®é™…åœ¨ä»“åº“ä¸­çš„åº“å­˜æ•°é‡ | - |
| **å¯ç”¨æ•°é‡** | å¯ç”¨äºé”€å”®çš„åº“å­˜ | ç°å­˜æ•°é‡ - é¢„å æ•°é‡ |
| **é¢„å æ•°é‡** | å·²è¢«è®¢å•é”å®šä½†æœªå‡ºåº“çš„æ•°é‡ | - |
| **åœ¨é€”æ•°é‡** | å·²é‡‡è´­/è°ƒæ‹¨ä½†æœªåˆ°è´§çš„æ•°é‡ | - |
| **å®‰å…¨åº“å­˜** | æœ€ä½åº“å­˜è­¦æˆ’çº¿ | - |

### 1.4 åº“å­˜çŠ¶æ€ä½“ç³»

ç³»ç»Ÿé‡‡ç”¨äº”çº§åº“å­˜çŠ¶æ€ä½“ç³»ï¼Œæ ¹æ®å¯ç”¨åº“å­˜ä¸å®‰å…¨åº“å­˜çš„æ¯”ä¾‹è‡ªåŠ¨è®¡ç®—ï¼š

| çŠ¶æ€ | ä»£ç  | é¢œè‰²æ ‡è¯† | åˆ¤æ–­æ¡ä»¶ |
|------|------|---------|----------|
| **å……è¶³** | SUFFICIENT | ç»¿è‰² | å¯ç”¨åº“å­˜ â‰¥ å®‰å…¨åº“å­˜ Ã— 2 |
| **æ­£å¸¸** | NORMAL | è“è‰² | å®‰å…¨åº“å­˜ â‰¤ å¯ç”¨åº“å­˜ < å®‰å…¨åº“å­˜ Ã— 2 |
| **åä½** | BELOW_THRESHOLD | é»„è‰² | å®‰å…¨åº“å­˜ Ã— 0.5 â‰¤ å¯ç”¨åº“å­˜ < å®‰å…¨åº“å­˜ |
| **ä¸è¶³** | LOW | æ©™è‰² | 0 < å¯ç”¨åº“å­˜ < å®‰å…¨åº“å­˜ Ã— 0.5 |
| **ç¼ºè´§** | OUT_OF_STOCK | çº¢è‰² | å¯ç”¨åº“å­˜ = 0 |

---

## 2. ç”¨æˆ·æ•…äº‹

### 2.1 é—¨åº—SKUåº“å­˜æŸ¥è¯¢ (P003)

#### US1 - æŸ¥çœ‹é—¨åº—åº“å­˜åˆ—è¡¨ (Priority: P0)

**ç”¨æˆ·è§’è‰²**: åº—é•¿

**ç”¨æˆ·æ•…äº‹**: ä½œä¸ºåº—é•¿ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ŸæŸ¥çœ‹é—¨åº—æ‰€æœ‰SKUçš„å½“å‰åº“å­˜æ•°é‡ï¼Œä»¥ä¾¿æŒæ¡åº“å­˜çŠ¶æ€ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| æŸ¥çœ‹åº“å­˜åˆ—è¡¨ | åº—é•¿å·²ç™»å½•ç³»ç»Ÿå¹¶æœ‰é—¨åº—æƒé™ | è¿›å…¥åº“å­˜æŸ¥è¯¢é¡µé¢ | ç³»ç»Ÿæ˜¾ç¤ºå½“å‰é—¨åº—çš„SKUåº“å­˜åˆ—è¡¨ï¼ŒåŒ…å«SKUç¼–ç ã€åç§°ã€ç°å­˜æ•°é‡ã€å¯ç”¨æ•°é‡ã€é¢„å æ•°é‡ã€åº“å­˜çŠ¶æ€ã€å•ä½åˆ— |
| åˆ†é¡µæµè§ˆ | åº“å­˜åˆ—è¡¨å·²åŠ è½½ | æ•°æ®è¶…è¿‡å•é¡µæ˜¾ç¤ºé‡ | ç³»ç»Ÿæä¾›åˆ†é¡µåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ç¿»é¡µæŸ¥çœ‹æ›´å¤šæ•°æ® |
| æ€§èƒ½è¦æ±‚ | ç”¨æˆ·è¯·æ±‚åŠ è½½åº“å­˜åˆ—è¡¨ | ç³»ç»Ÿå¤„ç†è¯·æ±‚ | åˆ—è¡¨åœ¨2ç§’å†…åŠ è½½å®Œæˆ |
| ç©ºçŠ¶æ€å¤„ç† | é—¨åº—æ²¡æœ‰ä»»ä½•SKUåº“å­˜ | è¿›å…¥åº“å­˜æŸ¥è¯¢é¡µé¢ | æ˜¾ç¤ºç©ºçŠ¶æ€æç¤º"æš‚æ— åº“å­˜æ•°æ®" |

---

#### US2 - æœç´¢åº“å­˜ (Priority: P0)

**ç”¨æˆ·è§’è‰²**: åº—é•¿

**ç”¨æˆ·æ•…äº‹**: ä½œä¸ºåº—é•¿ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ŸæŒ‰SKUåç§°/ç¼–ç æœç´¢åº“å­˜ï¼Œä»¥ä¾¿å¿«é€Ÿå®šä½å•†å“ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| å…³é”®è¯æœç´¢ | åº“å­˜åˆ—è¡¨å·²åŠ è½½ | ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯ | åˆ—è¡¨å®æ—¶ç­›é€‰æ˜¾ç¤ºåç§°æˆ–ç¼–ç åŒ…å«è¯¥å…³é”®è¯çš„SKU |
| æ¨¡ç³ŠåŒ¹é… | ç”¨æˆ·è¾“å…¥æœç´¢å…³é”®è¯"å¨" | ç³»ç»Ÿæ‰§è¡Œæœç´¢ | æ˜¾ç¤ºåç§°åŒ…å«"å¨"çš„SKUï¼ˆå¦‚"å¨å£«å¿Œ"ã€"å¨åŒ–é¥¼å¹²"ï¼‰ |
| æ— ç»“æœå¤„ç† | ç”¨æˆ·è¾“å…¥æœç´¢å…³é”®è¯ | æ²¡æœ‰åŒ¹é…çš„SKU | æ˜¾ç¤ºç©ºçŠ¶æ€æç¤º"æœªæ‰¾åˆ°åŒ¹é…çš„åº“å­˜" |
| æ¸…ç©ºæœç´¢ | ç”¨æˆ·å·²è¾“å…¥æœç´¢å…³é”®è¯ | æ¸…ç©ºæœç´¢æ¡† | æ¢å¤æ˜¾ç¤ºå®Œæ•´åº“å­˜åˆ—è¡¨ |

**æŠ€æœ¯è¦æ±‚**: è¾“å…¥é˜²æŠ–300ms

---

#### US3 - å¤šç»´åº¦ç­›é€‰åº“å­˜ (Priority: P0)

**ç”¨æˆ·è§’è‰²**: åº—é•¿

**ç”¨æˆ·æ•…äº‹**: ä½œä¸ºåº—é•¿ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ŸæŒ‰é—¨åº—ã€åº“å­˜çŠ¶æ€ã€å•†å“åˆ†ç±»ç­›é€‰åº“å­˜ï¼Œä»¥ä¾¿å¿«é€Ÿå®šä½éœ€è¦å…³æ³¨çš„å•†å“ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| é»˜è®¤é—¨åº—é€‰æ‹© | åº“å­˜åˆ—è¡¨é¡µé¢åŠ è½½å®Œæˆ | æŸ¥çœ‹é—¨åº—ç­›é€‰å™¨ | é»˜è®¤é€‰ä¸­å½“å‰ç™»å½•ç”¨æˆ·æ‰€å±é—¨åº— |
| å¤šé—¨åº—åˆ‡æ¢ | ç”¨æˆ·æœ‰å¤šé—¨åº—æŸ¥çœ‹æƒé™ | ç‚¹å‡»é—¨åº—ä¸‹æ‹‰ç­›é€‰ | æ˜¾ç¤ºç”¨æˆ·æœ‰æƒé™è®¿é—®çš„é—¨åº—åˆ—è¡¨ |
| é—¨åº—ç­›é€‰ç”Ÿæ•ˆ | ç”¨æˆ·é€‰æ‹©äº†ä¸åŒé—¨åº— | ç¡®è®¤é€‰æ‹© | åº“å­˜åˆ—è¡¨è‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºæ‰€é€‰é—¨åº—çš„æ•°æ® |
| å•é—¨åº—é™åˆ¶ | ç”¨æˆ·åªæœ‰å•é—¨åº—æƒé™ | æŸ¥çœ‹é—¨åº—ç­›é€‰å™¨ | ç­›é€‰å™¨æ˜¾ç¤ºè¯¥é—¨åº—ä¸”ä¸å¯åˆ‡æ¢ |
| çŠ¶æ€å¤šé€‰ç­›é€‰ | åº“å­˜åˆ—è¡¨å·²åŠ è½½ | é€‰æ‹©åº“å­˜çŠ¶æ€ç­›é€‰"ä¸è¶³"å’Œ"ç¼ºè´§" | åˆ—è¡¨ä»…æ˜¾ç¤ºçŠ¶æ€ä¸ºä¸è¶³æˆ–ç¼ºè´§çš„SKU |
| åˆ†ç±»ç­›é€‰ | åº“å­˜åˆ—è¡¨å·²åŠ è½½ | é€‰æ‹©å•†å“åˆ†ç±»"é…’æ°´é¥®æ–™" | åˆ—è¡¨ä»…æ˜¾ç¤ºè¯¥åˆ†ç±»ä¸‹çš„SKUåº“å­˜ |
| ç»„åˆç­›é€‰ | ç”¨æˆ·åŒæ—¶è®¾ç½®äº†é—¨åº—ã€çŠ¶æ€ã€åˆ†ç±»ç­›é€‰ | æŸ¥çœ‹åˆ—è¡¨ | æ˜¾ç¤ºæ»¡è¶³æ‰€æœ‰ç­›é€‰æ¡ä»¶çš„SKUï¼ˆäº¤é›†ï¼‰ |
| é‡ç½®ç­›é€‰ | ç”¨æˆ·å·²è®¾ç½®ç­›é€‰æ¡ä»¶ | ç‚¹å‡»"é‡ç½®"æŒ‰é’® | æ‰€æœ‰ç­›é€‰æ¡ä»¶æ¢å¤é»˜è®¤å€¼ |

---

#### US4 - æŸ¥çœ‹åº“å­˜è¯¦æƒ… (Priority: P1)

**ç”¨æˆ·è§’è‰²**: åº—é•¿

**ç”¨æˆ·æ•…äº‹**: ä½œä¸ºåº—é•¿ï¼Œæˆ‘å¸Œæœ›èƒ½å¤ŸæŸ¥çœ‹å•ä¸ªSKUçš„åº“å­˜è¯¦æƒ…ï¼Œä»¥ä¾¿äº†è§£å®Œæ•´ä¿¡æ¯ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| æ‰“å¼€è¯¦æƒ… | åº“å­˜åˆ—è¡¨å·²åŠ è½½ | ç‚¹å‡»æŸSKUè¡Œ | å±•å¼€è¡Œå†…è¯¦æƒ…æˆ–æ‰“å¼€ä¾§è¾¹æŠ½å±‰æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ |
| è¯¦æƒ…å†…å®¹ | SKUè¯¦æƒ…å·²å±•å¼€ | æŸ¥çœ‹è¯¦æƒ…å†…å®¹ | æ˜¾ç¤ºç°å­˜æ•°é‡ã€å¯ç”¨æ•°é‡ã€é¢„å æ•°é‡ã€åº“å­˜å•ä½ã€æœ€åæ›´æ–°æ—¶é—´ã€å®‰å…¨åº“å­˜é˜ˆå€¼ |
| å…³é—­è¯¦æƒ… | SKUè¯¦æƒ…å·²å±•å¼€ | ç‚¹å‡»å…³é—­æˆ–ç‚¹å‡»å…¶ä»–è¡Œ | è¯¦æƒ…æ”¶èµ·æˆ–åˆ‡æ¢åˆ°å…¶ä»–SKUè¯¦æƒ… |
| ä½åº“å­˜è­¦å‘Š | SKUè®¾ç½®äº†å®‰å…¨åº“å­˜é˜ˆå€¼ | å½“å‰åº“å­˜ä½äºé˜ˆå€¼ | è¯¦æƒ…ä¸­ä»¥é†’ç›®æ–¹å¼æç¤ºåº“å­˜ä¸è¶³ |
| ç¼ºè´§æ ‡ç­¾ | SKUåº“å­˜çŠ¶æ€ä¸º"ç¼ºè´§" | æŸ¥çœ‹åˆ—è¡¨ | åº“å­˜çŠ¶æ€åˆ—æ˜¾ç¤ºçº¢è‰²"ç¼ºè´§"æ ‡ç­¾ |
| å……è¶³æ ‡ç­¾ | SKUå¯ç”¨åº“å­˜å……è¶³ | æŸ¥çœ‹åˆ—è¡¨ | åº“å­˜çŠ¶æ€åˆ—æ˜¾ç¤ºç»¿è‰²"å……è¶³"æ ‡ç­¾ |

---

### 2.2 åº“å­˜å°è´¦ç®¡ç† (003)

#### US1 - åº“å­˜å°è´¦æŸ¥çœ‹ä¸ç­›é€‰ (Priority: P1)

**ç”¨æˆ·è§’è‰²**: åº“å­˜ç®¡ç†å‘˜

**ç”¨æˆ·æ•…äº‹**: åº“å­˜ç®¡ç†å‘˜éœ€è¦å®æ—¶æŸ¥çœ‹å„ä»“åº“/é—¨åº—çš„å•†å“åº“å­˜çŠ¶æ€ï¼Œé€šè¿‡å¤šç»´ç­›é€‰å¿«é€Ÿå®šä½åº“å­˜å¼‚å¸¸çš„å•†å“ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| æŸ¥çœ‹å°è´¦ | ç”¨æˆ·æœ‰åº“å­˜å°è´¦æŸ¥çœ‹æƒé™ | è®¿é—®åº“å­˜å°è´¦é¡µé¢ | ç³»ç»Ÿæ˜¾ç¤ºæ‰€æœ‰ä»“åº“/é—¨åº—çš„SKUåº“å­˜æ±‡æ€»ä¿¡æ¯ |
| å…³é”®è¯æŸ¥è¯¢ | ç”¨æˆ·åœ¨ç­›é€‰åŒºåŸŸè¾“å…¥SKUå…³é”®è¯ | ç‚¹å‡»"æŸ¥è¯¢"æŒ‰é’® | è¡¨æ ¼æ˜¾ç¤ºåŒ¹é…çš„åº“å­˜è®°å½•å¹¶ä¿æŒç­›é€‰æ¡ä»¶ |
| çŠ¶æ€ç­›é€‰ | ç”¨æˆ·é€‰æ‹©"ä½äºå®‰å…¨åº“å­˜"çŠ¶æ€ç­›é€‰ | ç‚¹å‡»"æŸ¥è¯¢" | è¡¨æ ¼æ˜¾ç¤ºæ‰€æœ‰åº“å­˜ä¸è¶³çš„å•†å“å¹¶ç”¨çº¢è‰²æ ‡ç­¾æ ‡è¯† |
| æ’åºåŠŸèƒ½ | ç”¨æˆ·ç‚¹å‡»"åº“å­˜çŠ¶æ€"åˆ—æ ‡é¢˜ | æ‰§è¡Œæ’åºæ“ä½œ | è¡¨æ ¼æŒ‰åº“å­˜çŠ¶æ€é‡æ–°æ’åºæ˜¾ç¤º |

---

#### US2 - åº“å­˜æµæ°´è¿½è¸ªä¸å¯¹è´¦ (Priority: P1)

**ç”¨æˆ·è§’è‰²**: åº“å­˜ç®¡ç†å‘˜

**ç”¨æˆ·æ•…äº‹**: åº“å­˜ç®¡ç†å‘˜éœ€è¦è¿½è¸ªç‰¹å®šå•†å“åœ¨ç‰¹å®šä»“åº“çš„åº“å­˜å˜åŠ¨å†å²ï¼Œç”¨äºé—®é¢˜æ’æŸ¥ã€è´¢åŠ¡å¯¹è´¦å’Œä¸šåŠ¡å®¡è®¡ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| è·³è½¬æµæ°´ | ç”¨æˆ·åœ¨å°è´¦é¡µç‚¹å‡»æŸSKUçš„"æŸ¥çœ‹æµæ°´" | é¡µé¢è·³è½¬åˆ°æµæ°´åˆ—è¡¨ | æ˜¾ç¤ºè¯¥SKUåœ¨è¯¥ä»“åº“çš„æ‰€æœ‰åº“å­˜å˜åŠ¨è®°å½• |
| ç­›é€‰æµæ°´ | ç”¨æˆ·åœ¨æµæ°´é¡µé€‰æ‹©æ—¶é—´èŒƒå›´å’Œå•æ®ç±»å‹ç­›é€‰ | ç‚¹å‡»"æŸ¥è¯¢" | è¡¨æ ¼æ˜¾ç¤ºç¬¦åˆæ¡ä»¶çš„æµæ°´è®°å½• |
| å…¥åº“æ˜¾ç¤º | ç”¨æˆ·æŸ¥çœ‹å…¥åº“ç±»æµæ°´è®°å½• | è§‚å¯Ÿå˜åŠ¨æ•°é‡æ˜¾ç¤º | æ•°é‡ä»¥ç»¿è‰²"+"å·æ˜¾ç¤ºï¼Œå•æ®ç±»å‹ç”¨è“è‰²æ ‡ç­¾æ ‡è¯† |
| è·³è½¬å•æ® | ç”¨æˆ·ç‚¹å‡»æµæ°´è®°å½•çš„å•æ®å·é“¾æ¥ | æ‰§è¡Œè·³è½¬æ“ä½œ | æ‰“å¼€å¯¹åº”çš„ä¸šåŠ¡å•æ®è¯¦æƒ…é¡µ |

---

#### US3 - åº“å­˜è°ƒæ•´ä¸å¼‚å¸¸å¤„ç† (Priority: P2)

**ç”¨æˆ·è§’è‰²**: æˆæƒåº“å­˜ç®¡ç†å‘˜

**ç”¨æˆ·æ•…äº‹**: æˆæƒçš„åº“å­˜ç®¡ç†å‘˜åœ¨å‘ç°åº“å­˜å·®å¼‚æ—¶ï¼Œéœ€è¦é€šè¿‡ç³»ç»Ÿè¿›è¡Œåº“å­˜è°ƒæ•´æ“ä½œï¼ˆç›˜ç›ˆã€ç›˜äºã€æŠ¥æŸï¼‰ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| æ‰“å¼€è°ƒæ•´å¼¹çª— | ç”¨æˆ·æœ‰åº“å­˜è°ƒæ•´æƒé™ | åœ¨å°è´¦é¡µç‚¹å‡»"åº“å­˜è°ƒæ•´"æŒ‰é’® | å¼¹å‡ºåº“å­˜è°ƒæ•´å¯¹è¯æ¡† |
| äºŒæ¬¡ç¡®è®¤ | ç”¨æˆ·åœ¨è°ƒæ•´å¯¹è¯æ¡†é€‰æ‹©"ç›˜äº"ç±»å‹å¹¶è¾“å…¥æ•°é‡ | ç‚¹å‡»ç¡®è®¤æŒ‰é’® | ç³»ç»Ÿæ˜¾ç¤ºäºŒæ¬¡ç¡®è®¤æç¤º |
| å®æ—¶æ›´æ–° | ç”¨æˆ·ç¡®è®¤åº“å­˜è°ƒæ•´æ“ä½œ | æ“ä½œå®Œæˆå | å°è´¦é¡µé¢çš„åº“å­˜æ•°æ®å®æ—¶æ›´æ–°å¹¶æ˜¾ç¤ºæ–°çš„åº“å­˜çŠ¶æ€ |
| æƒé™æ§åˆ¶ | ç”¨æˆ·æ— åº“å­˜è°ƒæ•´æƒé™ | è®¿é—®å°è´¦é¡µé¢ | "åº“å­˜è°ƒæ•´"æŒ‰é’®ä¸æ˜¾ç¤º |

---

#### US4 - åº“å­˜è¯¦æƒ…æŸ¥çœ‹ä¸å¿«é€Ÿæ“ä½œ (Priority: P3)

**ç”¨æˆ·è§’è‰²**: åº“å­˜ç®¡ç†å‘˜

**ç”¨æˆ·æ•…äº‹**: åº“å­˜ç®¡ç†å‘˜éœ€è¦æŸ¥çœ‹ç‰¹å®šSKUåœ¨ç‰¹å®šä»“åº“çš„è¯¦ç»†åº“å­˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬å„ç±»åº“å­˜æ•°é‡ã€è¿‘æœŸæµæ°´æ‘˜è¦ã€‚

**éªŒæ”¶æ ‡å‡†**:

| åœºæ™¯ | Given | When | Then |
|------|-------|------|------|
| æ‰“å¼€è¯¦æƒ…æŠ½å±‰ | ç”¨æˆ·ç‚¹å‡»å°è´¦ä¸­çš„SKUåç§° | æ‰“å¼€è¯¦æƒ…æŠ½å±‰ | æ˜¾ç¤ºè¯¥SKUåœ¨è¯¥ä»“åº“çš„å®Œæ•´åº“å­˜æ‘˜è¦ä¿¡æ¯ |
| æ•°æ®å®Œæ•´æ€§ | ç”¨æˆ·åœ¨è¯¦æƒ…æŠ½å±‰æŸ¥çœ‹åº“å­˜æ‘˜è¦ | è§‚å¯Ÿæ•°æ®å±•ç¤º | ç°å­˜ã€é¢„å ã€å¯ç”¨ã€åœ¨é€”ã€å®‰å…¨åº“å­˜ç­‰æ•°æ®å®Œæ•´æ˜¾ç¤º |
| è·³è½¬æµæ°´åˆ—è¡¨ | ç”¨æˆ·åœ¨è¯¦æƒ…æŠ½å±‰ç‚¹å‡»"æŸ¥çœ‹å…¨éƒ¨æµæ°´"é“¾æ¥ | æ‰§è¡Œè·³è½¬ | æ‰“å¼€è¯¥SKUçš„å®Œæ•´æµæ°´åˆ—è¡¨é¡µ |
| è·³è½¬å•†å“è¯¦æƒ… | ç”¨æˆ·åœ¨è¯¦æƒ…æŠ½å±‰ç‚¹å‡»"æŸ¥çœ‹å•†å“è¯¦æƒ…" | æ‰§è¡Œè·³è½¬ | æ‰“å¼€å•†å“ç®¡ç†æ¨¡å—çš„å¯¹åº”å•†å“é¡µ |

---

## 3. ä¸šåŠ¡æµç¨‹

### 3.1 åº“å­˜æŸ¥è¯¢æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åº“å­˜æŸ¥è¯¢æµç¨‹                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  [åº—é•¿ç™»å½•ç³»ç»Ÿ]
        â”‚
        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ è¿›å…¥åº“å­˜æŸ¥è¯¢é¡µé¢  â”‚
  â”‚ é»˜è®¤åŠ è½½å½“å‰é—¨åº—  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   æŸ¥çœ‹åº“å­˜åˆ—è¡¨   â”‚ â”€â”€â–¶ â”‚  éœ€è¦æœç´¢ï¼Ÿ      â”‚
  â”‚ æ˜¾ç¤º7åˆ—æ•°æ®     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
           â”‚                    â”Œâ”€â”€â”´â”€â”€â”
           â”‚                 æ˜¯ â”‚     â”‚ å¦
           â”‚                    â–¼     â–¼
           â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
           â”‚          â”‚ è¾“å…¥å…³é”®è¯   â”‚  â”‚
           â”‚          â”‚ 300msé˜²æŠ–   â”‚  â”‚
           â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
           â”‚                 â”‚         â”‚
           â–¼                 â–¼         â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚            å¤šç»´åº¦ç­›é€‰                â”‚
  â”‚  é—¨åº— â”‚ åº“å­˜çŠ¶æ€ï¼ˆå¤šé€‰ï¼‰â”‚ å•†å“åˆ†ç±»   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æŸ¥çœ‹ç­›é€‰ç»“æœåˆ—è¡¨  â”‚
  â”‚ æ”¯æŒåˆ†é¡µ 20æ¡/é¡µ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ç‚¹å‡»è¡ŒæŸ¥çœ‹è¯¦æƒ…   â”‚
  â”‚ æŠ½å±‰å±•ç¤ºå®Œæ•´ä¿¡æ¯ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ å…³æ³¨ä½åº“å­˜è­¦å‘Š   â”‚
  â”‚ å†³å®šè¡¥è´§è®¡åˆ’    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 åº“å­˜è°ƒæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åº“å­˜è°ƒæ•´æµç¨‹                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  [å‘ç°åº“å­˜å¼‚å¸¸]
        â”‚
        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ç‚¹å‡»"åº“å­˜è°ƒæ•´"   â”‚
  â”‚ æƒé™æ ¡éªŒ         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ é€‰æ‹©è°ƒæ•´ç±»å‹     â”‚
  â”‚ ç›˜ç›ˆ/ç›˜äº/æŠ¥æŸ   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ è¾“å…¥è°ƒæ•´æ•°é‡     â”‚
  â”‚ å¡«å†™è°ƒæ•´åŸå›      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ äºŒæ¬¡ç¡®è®¤         â”‚
  â”‚ å±•ç¤ºè°ƒæ•´å‰åå¯¹æ¯” â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æäº¤è°ƒæ•´         â”‚
  â”‚ ç”Ÿæˆæµæ°´è®°å½•     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ å°è´¦å®æ—¶æ›´æ–°     â”‚
  â”‚ åº“å­˜çŠ¶æ€åˆ·æ–°     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ç•Œé¢è¯´æ˜

### 4.1 åº“å­˜æŸ¥è¯¢é¡µé¢ (P003)

#### 4.1.1 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é—¨åº—SKUåº“å­˜æŸ¥è¯¢                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         ç­›é€‰åŒºåŸŸ                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” æœç´¢SKU   â”‚ â”‚ é—¨åº—é€‰æ‹© â–¼  â”‚ â”‚ åº“å­˜çŠ¶æ€ â–¼  â”‚ â”‚ åˆ†ç±» â–¼  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      [é‡ç½®]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         æ•°æ®è¡¨æ ¼                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚SKUç¼–ç  â”‚SKUåç§° â”‚ç°å­˜æ•°é‡â”‚å¯ç”¨æ•°é‡â”‚é¢„å æ•°é‡â”‚åº“å­˜çŠ¶æ€â”‚  å•ä½  â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚SKU0001 â”‚å¨å£«å¿Œ  â”‚  100   â”‚   80   â”‚   20   â”‚ ğŸŸ¢å……è¶³ â”‚   ç“¶   â”‚â”‚
â”‚ â”‚SKU0002 â”‚å¯ä¹    â”‚   50   â”‚   45   â”‚    5   â”‚ ğŸ”µæ­£å¸¸ â”‚   ç½   â”‚â”‚
â”‚ â”‚SKU0003 â”‚è–¯ç‰‡    â”‚   10   â”‚    5   â”‚    5   â”‚ ğŸŸ¡åä½ â”‚   åŒ…   â”‚â”‚
â”‚ â”‚SKU0004 â”‚çŸ¿æ³‰æ°´  â”‚    3   â”‚    2   â”‚    1   â”‚ ğŸŸ ä¸è¶³ â”‚   ç“¶   â”‚â”‚
â”‚ â”‚SKU0005 â”‚å•¤é…’    â”‚    0   â”‚    0   â”‚    0   â”‚ ğŸ”´ç¼ºè´§ â”‚   ç“¶   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…± 100 æ¡è®°å½•                           < 1 2 3 4 5 ... 10 >     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.1.2 åº“å­˜è¯¦æƒ…æŠ½å±‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åº“å­˜è¯¦æƒ…                        [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ âš ï¸ ä½åº“å­˜è­¦å‘Š                        â”‚
â”‚ å½“å‰å¯ç”¨æ•°é‡ (5) ä½äºå®‰å…¨åº“å­˜ (20)   â”‚
â”‚ è¯·åŠæ—¶è¡¥è´§ï¼                         â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸºæœ¬ä¿¡æ¯                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ SKUç¼–ç       â”‚ SKU000003        â”‚ â”‚
â”‚ â”‚ SKUåç§°      â”‚ è–¯ç‰‡             â”‚ â”‚
â”‚ â”‚ æ‰€å±é—¨åº—     â”‚ ä¸­å±±è·¯é—¨åº—       â”‚ â”‚
â”‚ â”‚ å•†å“åˆ†ç±»     â”‚ é›¶é£Ÿå°åƒ         â”‚ â”‚
â”‚ â”‚ åº“å­˜å•ä½     â”‚ åŒ…               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ åº“å­˜æŒ‡æ ‡                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç°å­˜æ•°é‡     â”‚ 10               â”‚ â”‚
â”‚ â”‚ å¯ç”¨æ•°é‡     â”‚ 5                â”‚ â”‚
â”‚ â”‚ é¢„å æ•°é‡     â”‚ 5                â”‚ â”‚
â”‚ â”‚ å®‰å…¨åº“å­˜     â”‚ 20               â”‚ â”‚
â”‚ â”‚ åº“å­˜çŠ¶æ€     â”‚ ğŸŸ¡åä½           â”‚ â”‚
â”‚ â”‚ æœ€åæ›´æ–°     â”‚ 2025-12-26 10:30 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 åº“å­˜å°è´¦é¡µé¢ (003)

#### 4.2.1 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åº“å­˜å°è´¦                                         [å¯¼å‡º] [åˆ·æ–°]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         ç­›é€‰åŒºåŸŸ                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” å…³é”®è¯    â”‚ â”‚ ä»“åº“/é—¨åº— â–¼ â”‚ â”‚ ç±»ç›®ç­›é€‰ â–¼  â”‚ â”‚ å“ç‰Œ â–¼  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
â”‚ â”‚ åº“å­˜çŠ¶æ€ â–¼  â”‚                            [æŸ¥è¯¢] [é‡ç½®]        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         æ•°æ®è¡¨æ ¼                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  SKU   â”‚ å•†å“å â”‚ ä½ç½®   â”‚ç°å­˜åº“å­˜â”‚å¯ç”¨åº“å­˜â”‚åœ¨é€”åº“å­˜â”‚ çŠ¶æ€   â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚SKU0001 â”‚å¨å£«å¿Œ  â”‚ä¸œåŒºä»“åº“â”‚  100   â”‚   80   â”‚   50   â”‚ ğŸŸ¢æ­£å¸¸ â”‚â”‚
â”‚ â”‚        â”‚        â”‚        â”‚        â”‚        â”‚        â”‚[è°ƒæ•´]  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. APIæ¥å£

### 5.1 åº“å­˜åˆ—è¡¨æŸ¥è¯¢

**æ¥å£è·¯å¾„**: `GET /api/inventory`

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| storeId | string | å¦ | é—¨åº—ID |
| keyword | string | å¦ | æœç´¢å…³é”®è¯ï¼ˆåŒ¹é…SKUç¼–ç /åç§°ï¼‰ |
| categoryId | string | å¦ | å•†å“åˆ†ç±»ID |
| statuses | string | å¦ | åº“å­˜çŠ¶æ€ï¼ˆé€—å·åˆ†éš”ï¼Œæ”¯æŒå¤šé€‰ï¼‰ |
| page | number | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | number | å¦ | æ¯é¡µæ¡æ•°ï¼Œé»˜è®¤20 |

**å“åº”ç¤ºä¾‹**:

```json
{
  "success": true,
  "data": [
    {
      "id": "inv_001",
      "storeId": "store_001",
      "skuId": "sku_001",
      "onHandQty": 100,
      "availableQty": 80,
      "reservedQty": 20,
      "safetyStock": 30,
      "updatedAt": "2025-12-26T10:30:00Z",
      "sku": {
        "code": "SKU000001",
        "name": "å¨å£«å¿Œ",
        "mainUnit": "ç“¶"
      },
      "store": {
        "code": "STORE001",
        "name": "ä¸­å±±è·¯é—¨åº—"
      },
      "category": {
        "id": "cat_001",
        "name": "é…’æ°´é¥®æ–™"
      },
      "inventoryStatus": "SUFFICIENT"
    }
  ],
  "total": 100,
  "page": 1,
  "pageSize": 20
}
```

---

### 5.2 åº“å­˜è¯¦æƒ…æŸ¥è¯¢

**æ¥å£è·¯å¾„**: `GET /api/inventory/{id}`

**å“åº”ç¤ºä¾‹**:

```json
{
  "success": true,
  "data": {
    "id": "inv_001",
    "storeId": "store_001",
    "skuId": "sku_001",
    "onHandQty": 100,
    "availableQty": 80,
    "reservedQty": 20,
    "safetyStock": 30,
    "updatedAt": "2025-12-26T10:30:00Z",
    "createdAt": "2025-12-01T08:00:00Z",
    "sku": {
      "code": "SKU000001",
      "name": "å¨å£«å¿Œ",
      "mainUnit": "ç“¶",
      "categoryId": "cat_001"
    },
    "store": {
      "code": "STORE001",
      "name": "ä¸­å±±è·¯é—¨åº—"
    },
    "category": {
      "id": "cat_001",
      "name": "é…’æ°´é¥®æ–™"
    },
    "inventoryStatus": "SUFFICIENT"
  }
}
```

---

### 5.3 å•†å“åˆ†ç±»åˆ—è¡¨

**æ¥å£è·¯å¾„**: `GET /api/categories`

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| status | string | å¦ | çŠ¶æ€ç­›é€‰ï¼ˆACTIVE/INACTIVEï¼‰ï¼Œé»˜è®¤ACTIVE |

**å“åº”ç¤ºä¾‹**:

```json
{
  "success": true,
  "data": [
    {
      "id": "cat_001",
      "code": "CAT001",
      "name": "é…’æ°´é¥®æ–™",
      "parentId": null,
      "level": 1,
      "sortOrder": 1,
      "status": "ACTIVE"
    },
    {
      "id": "cat_002",
      "code": "CAT002",
      "name": "é›¶é£Ÿå°åƒ",
      "parentId": null,
      "level": 1,
      "sortOrder": 2,
      "status": "ACTIVE"
    }
  ]
}
```

---

### 5.4 å¯è®¿é—®é—¨åº—åˆ—è¡¨

**æ¥å£è·¯å¾„**: `GET /api/stores/accessible`

**è¯´æ˜**: è¿”å›å½“å‰ç™»å½•ç”¨æˆ·æœ‰æƒé™è®¿é—®çš„é—¨åº—åˆ—è¡¨

**å“åº”ç¤ºä¾‹**:

```json
{
  "success": true,
  "data": [
    {
      "id": "store_001",
      "code": "STORE001",
      "name": "ä¸­å±±è·¯é—¨åº—",
      "region": "åä¸œåŒº",
      "status": "ACTIVE"
    },
    {
      "id": "store_002",
      "code": "STORE002",
      "name": "è§£æ”¾è·¯é—¨åº—",
      "region": "åä¸œåŒº",
      "status": "ACTIVE"
    }
  ]
}
```

---

## 6. æ•°æ®æ¨¡å‹

### 6.1 å®ä½“å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   stores    â”‚     â”‚ store_inventory â”‚     â”‚    skus     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚â—„â”€â”€â”€â”€â”‚ store_id (FK)   â”‚     â”‚ id (PK)     â”‚
â”‚ code        â”‚     â”‚ sku_id (FK)     â”‚â”€â”€â”€â”€â–ºâ”‚ code        â”‚
â”‚ name        â”‚     â”‚ on_hand_qty     â”‚     â”‚ name        â”‚
â”‚ region      â”‚     â”‚ available_qty   â”‚     â”‚ main_unit   â”‚
â”‚ status      â”‚     â”‚ reserved_qty    â”‚     â”‚ category_id â”‚â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ safety_stock    â”‚     â”‚ status      â”‚  â”‚
                    â”‚ updated_at      â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                                                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
                    â”‚   categories    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ id (PK)         â”‚
                    â”‚ code            â”‚
                    â”‚ name            â”‚
                    â”‚ parent_id (FK)  â”‚
                    â”‚ level           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 æ ¸å¿ƒå®ä½“

#### 6.2.1 store_inventory (é—¨åº—åº“å­˜è¡¨)

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | UUID | PK | ä¸»é”® |
| store_id | UUID | FK â†’ stores.id, NOT NULL | é—¨åº—ID |
| sku_id | UUID | FK â†’ skus.id, NOT NULL | SKU ID |
| on_hand_qty | DECIMAL(12,3) | NOT NULL, DEFAULT 0 | ç°å­˜æ•°é‡ |
| available_qty | DECIMAL(12,3) | NOT NULL, DEFAULT 0 | å¯ç”¨æ•°é‡ |
| reserved_qty | DECIMAL(12,3) | NOT NULL, DEFAULT 0 | é¢„å æ•°é‡ |
| safety_stock | DECIMAL(12,3) | DEFAULT 0 | å®‰å…¨åº“å­˜é˜ˆå€¼ |
| updated_at | TIMESTAMPTZ | NOT NULL | æœ€åæ›´æ–°æ—¶é—´ |
| created_at | TIMESTAMPTZ | NOT NULL | åˆ›å»ºæ—¶é—´ |

**å”¯ä¸€çº¦æŸ**: (store_id, sku_id)

**ä¸šåŠ¡è§„åˆ™**: available_qty = on_hand_qty - reserved_qty

---

#### 6.2.2 categories (å•†å“åˆ†ç±»è¡¨)

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | UUID | PK | ä¸»é”® |
| code | VARCHAR(50) | UNIQUE, NOT NULL | åˆ†ç±»ç¼–ç  |
| name | VARCHAR(100) | NOT NULL | åˆ†ç±»åç§° |
| parent_id | UUID | FK â†’ categories.id | çˆ¶åˆ†ç±»ID |
| level | INTEGER | NOT NULL, DEFAULT 1 | å±‚çº§æ·±åº¦ |
| sort_order | INTEGER | DEFAULT 0 | æ’åºåºå· |
| status | VARCHAR(20) | DEFAULT 'ACTIVE' | çŠ¶æ€ |
| created_at | TIMESTAMPTZ | NOT NULL | åˆ›å»ºæ—¶é—´ |
| updated_at | TIMESTAMPTZ | NOT NULL | æ›´æ–°æ—¶é—´ |

---

### 6.3 TypeScript ç±»å‹å®šä¹‰

```typescript
// åº“å­˜çŠ¶æ€æšä¸¾
export type InventoryStatus =
  | 'SUFFICIENT'      // å……è¶³
  | 'NORMAL'          // æ­£å¸¸
  | 'BELOW_THRESHOLD' // åä½
  | 'LOW'             // ä¸è¶³
  | 'OUT_OF_STOCK';   // ç¼ºè´§

// åº“å­˜çŠ¶æ€é…ç½®
export const INVENTORY_STATUS_CONFIG: Record<InventoryStatus, {
  label: string;
  color: string;
}> = {
  SUFFICIENT: { label: 'å……è¶³', color: 'green' },
  NORMAL: { label: 'æ­£å¸¸', color: 'blue' },
  BELOW_THRESHOLD: { label: 'åä½', color: 'gold' },
  LOW: { label: 'ä¸è¶³', color: 'orange' },
  OUT_OF_STOCK: { label: 'ç¼ºè´§', color: 'red' },
};

// åº“å­˜è®°å½•
export interface StoreInventory {
  id: string;
  storeId: string;
  skuId: string;
  onHandQty: number;
  availableQty: number;
  reservedQty: number;
  safetyStock: number;
  updatedAt: string;
  createdAt: string;
  sku?: {
    code: string;
    name: string;
    mainUnit: string;
    categoryId?: string;
  };
  store?: {
    code: string;
    name: string;
  };
  category?: {
    id: string;
    name: string;
  };
  inventoryStatus: InventoryStatus;
}

// æŸ¥è¯¢å‚æ•°
export interface InventoryQueryParams {
  storeId?: string;
  keyword?: string;
  categoryId?: string;
  statuses?: InventoryStatus[];
  page?: number;
  pageSize?: number;
}
```

---

## 7. é™„å½•

### 7.1 æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | è¦æ±‚ |
|------|------|
| åº“å­˜åˆ—è¡¨åŠ è½½ | â‰¤ 2ç§’ |
| æœç´¢å“åº”æ—¶é—´ | â‰¤ 1ç§’ï¼ˆè¾“å…¥åœæ­¢åï¼‰ |
| è¯¦æƒ…å±•å¼€å“åº” | â‰¤ 500ms |
| é—¨åº—åˆ‡æ¢åˆ·æ–° | â‰¤ 2ç§’ |
| æ”¯æŒSKUæ•°é‡ | å•é—¨åº—1000+ |

### 7.2 è¾¹ç•Œæƒ…å†µå¤„ç†

| åœºæ™¯ | å¤„ç†æ–¹å¼ |
|------|---------|
| ç©ºåº“å­˜ | æ˜¾ç¤ºå‹å¥½çš„ç©ºçŠ¶æ€æç¤º"æš‚æ— åº“å­˜æ•°æ®" |
| æœç´¢æ— ç»“æœ | æ˜¾ç¤º"æœªæ‰¾åˆ°åŒ¹é…çš„åº“å­˜" |
| ç½‘ç»œå¼‚å¸¸ | æ˜¾ç¤ºé”™è¯¯æç¤ºå¹¶æä¾›é‡è¯•æŒ‰é’® |
| æƒé™ä¸è¶³ | æ˜¾ç¤ºæƒé™ä¸è¶³æç¤º |
| å¤§æ•°æ®é‡ | åˆ†é¡µåŠ è½½ç¡®ä¿æ€§èƒ½ |
| ç‰¹æ®Šå­—ç¬¦æœç´¢ | æ­£å¸¸å¤„ç†ä¸æŠ¥é”™ |
| è´Ÿåº“å­˜ | çº¢è‰²å­—ä½“æ˜æ˜¾æ ‡è¯†ï¼Œæç¤ºç›˜ç‚¹æ£€æŸ¥ |

### 7.3 å‰ç«¯ç»„ä»¶æ¸…å•

| ç»„ä»¶ | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| InventoryPage | /pages/inventory/InventoryPage.tsx | åº“å­˜æŸ¥è¯¢ä¸»é¡µé¢ |
| InventoryTable | /features/inventory/components/InventoryTable.tsx | åº“å­˜æ•°æ®è¡¨æ ¼ |
| InventoryStatusTag | /features/inventory/components/InventoryStatusTag.tsx | åº“å­˜çŠ¶æ€æ ‡ç­¾ |
| InventoryFilterBar | /features/inventory/components/InventoryFilterBar.tsx | ç­›é€‰æ ç»„ä»¶ |
| InventoryDetailDrawer | /features/inventory/components/InventoryDetailDrawer.tsx | è¯¦æƒ…æŠ½å±‰ |
| SearchInput | /features/inventory/components/SearchInput.tsx | æœç´¢è¾“å…¥æ¡†ï¼ˆ300msé˜²æŠ–ï¼‰ |

### 7.4 æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯é€‰å‹ |
|------|---------|
| å‰ç«¯æ¡†æ¶ | React 19 + TypeScript |
| UIç»„ä»¶åº“ | Ant Design 6 |
| çŠ¶æ€ç®¡ç† | Zustand + TanStack Query |
| åç«¯æ¡†æ¶ | Spring Boot 3.x |
| æ•°æ®åº“ | Supabase (PostgreSQL) |
| APIè§„èŒƒ | RESTful + JWTè®¤è¯ |

---

## æ–‡æ¡£æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ | ä½œè€… |
|-----|------|---------|------|
| V1.0 | 2025-12-26 | åˆå§‹ç‰ˆæœ¬ | ç³»ç»Ÿç”Ÿæˆ |

---

**æ–‡æ¡£ç»“æŸ**
