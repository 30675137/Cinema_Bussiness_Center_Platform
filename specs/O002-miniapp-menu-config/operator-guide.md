# 菜单分类运营管理指南

**@spec O002-miniapp-menu-config**

## 概述

本指南帮助运营人员在B端管理后台操作菜单分类配置功能。通过此功能，您可以：
- 创建、编辑、删除商品分类
- 调整分类在小程序中的显示顺序
- 控制分类的可见性（显示/隐藏）
- 为分类添加图标和描述

---

## 1. 进入分类管理页面

1. 登录B端管理后台 (http://localhost:3000)
2. 在左侧菜单中找到「商品管理」
3. 点击「菜单分类」进入分类管理页面

---

## 2. 查看分类列表

分类列表显示以下信息：

| 列名 | 说明 |
|------|------|
| 排序 | 分类的显示顺序（数字越小越靠前） |
| 图标 | 分类图标预览（无图标显示"-"） |
| 编码 | 分类唯一编码（如 COFFEE、ALCOHOL） |
| 名称 | 分类显示名称（如 精品咖啡） |
| 商品数量 | 该分类下的商品总数 |
| 描述 | 分类描述文字 |
| 可见 | 开关控制小程序是否显示该分类 |
| 操作 | 编辑、删除按钮 |

**默认分类**：带有「默认」标签的分类（通常为"其他商品"）不可删除或隐藏。

---

## 3. 创建新分类

### 步骤

1. 点击「新建分类」按钮
2. 填写分类信息：
   - **分类编码**（必填）：唯一标识，如 `SEASONAL`，只能包含大写字母、数字和下划线
   - **显示名称**（必填）：用户看到的名称，如「季节限定」
   - **图标 URL**（可选）：分类图标图片地址
   - **描述**（可选）：分类说明文字
3. 点击「确定」保存

### 注意事项

- 分类编码创建后不可修改
- 编码必须以字母开头
- 编码会自动转换为大写

---

## 4. 编辑分类

### 步骤

1. 在分类列表中找到要编辑的分类
2. 点击「编辑」按钮
3. 修改分类信息（编码不可修改）
4. 点击「确定」保存

### 可修改字段

- 显示名称
- 图标 URL
- 描述

---

## 5. 删除分类

### 删除无商品的分类

1. 点击「删除」按钮
2. 在确认对话框中点击「确定」
3. 分类被删除

### 删除有商品的分类

1. 点击「删除」按钮
2. 系统提示该分类下有 N 个商品
3. 确认后，这些商品将自动迁移到「其他商品」分类
4. 分类被删除

**注意**：默认分类不可删除。

---

## 6. 调整分类顺序（拖拽排序）

### 步骤

1. 将鼠标移到要移动的分类行上
2. 按住左键拖动到目标位置
3. 释放鼠标完成排序
4. 系统自动保存新顺序

### 效果

- 小程序端分类标签栏按新顺序显示
- 排序值自动更新

---

## 7. 控制分类可见性

### 隐藏分类

1. 找到要隐藏的分类
2. 关闭「可见」开关
3. 该分类在小程序中不再显示

### 显示分类

1. 找到已隐藏的分类
2. 开启「可见」开关
3. 该分类在小程序中恢复显示

**注意**：
- 默认分类不可隐藏
- 隐藏分类不会影响其下的商品，商品仍然存在

---

## 8. 设置分类图标

### 步骤

1. 编辑分类
2. 在「图标 URL」字段输入图标图片地址
3. 保存

### 图标建议

- 格式：PNG 或 SVG
- 尺寸：48×48 像素或更高
- 背景：透明背景效果更好
- 来源：使用 CDN 托管的图片 URL

### 无图标时的显示

小程序将显示分类名称的首字符作为占位。

---

## 9. 常见问题

### Q: 为什么我不能删除某个分类？

A: 可能有两种情况：
1. 这是默认分类（带有「默认」标签），默认分类不可删除
2. 系统繁忙，请稍后重试

### Q: 删除分类后商品去哪了？

A: 商品会自动迁移到「其他商品」（默认分类）下。

### Q: 修改分类名称后小程序多久生效？

A: 小程序每分钟自动刷新数据，最多等待 1 分钟即可看到更新。用户也可以手动下拉刷新。

### Q: 可以修改分类编码吗？

A: 不可以。分类编码创建后不可修改，这是为了保证数据一致性。

### Q: 隐藏分类后，该分类的商品还能购买吗？

A: 隐藏分类只是不在分类标签栏显示，商品仍然可以通过搜索或其他入口访问（如果有）。

---

## 10. 操作日志

所有分类操作都会记录审计日志，包括：
- 创建分类
- 更新分类
- 删除分类
- 修改可见性
- 调整排序

如需查看操作历史，请联系系统管理员。

---

**文档版本**: 1.0.0
**最后更新**: 2026-01-03
