# 功能规格说明: SKU主数据管理(支持BOM)

**功能分支**: `P001-sku-master-data`
**创建日期**: 2025-12-24
**状态**: 草稿
**输入**: 用户描述: "根据上面文档作为上下文 ，考虑 实现 US-001 创建SKU主档（原料/包材/成品/套餐）
- 作为 系统管理员
- 我希望 创建并维护不同类型SKU及其基础属性
- 以便 支撑BOM、库存、售卖与报表
- 优先级 P0｜估算 5 SP
- 验收标准
- Given 我在商品管理中创建SKU
- When 选择SKU类型并填写必填字段
- Then SKU可保存、可启用/停用、可配置门店范围 充分考虑现在已经实现的功能"

## 用户场景与测试 *(必填)*

### 用户故事 1 - 创建原料SKU (优先级: P1)

作为系统管理员,我需要创建原料SKU(如威士忌、可乐糖浆、玉米等),并配置合适的规格,以便它们可以作为BOM配方的组成部分用于制作成品。

**为什么是这个优先级**: 原料是BOM系统的基础。没有合适的原料SKU,我们无法定义配方或追踪原料消耗。这是最关键的SKU类型,因为所有成品都依赖于它。

**独立测试**: 可以通过创建一个原料SKU(如"威士忌700ml")、设置其库存单位为"ml"、配置标准成本,并验证它出现在SKU列表中且可以在创建BOM配方时被选择,来完整测试该功能。

**验收场景**:

1. **假设** 我在SKU创建页面, **当** 我选择SKU类型为"原料",并填写名称"Jack Daniel's威士忌"、规格"700ml"、主单位"ml"、标准成本"0.50元/ml",并启用库存管理, **那么** 系统保存该原料SKU,我可以在SKU列表中看到它,并显示类型标签"原料"

2. **假设** 我已创建了威士忌原料SKU, **当** 我尝试为鸡尾酒创建BOM配方, **那么** 威士忌SKU出现在可选组件列表中

3. **假设** 我有一个草稿状态的原料SKU, **当** 我将其状态改为"已启用", **那么** 该SKU可用于BOM组件选择和库存操作

4. **假设** 我正在编辑一个原料SKU, **当** 我配置其门店范围为特定门店(如门店A、门店B), **那么** 该SKU仅在选定门店中可见和可用

---

### 用户故事 2 - 创建包材SKU (优先级: P1)

作为系统管理员,我需要创建包材SKU(如杯子、吸管、餐盒、袋子等),以便它们可以被包含在BOM配方中,准确追踪包材消耗和原料消耗。

**为什么是这个优先级**: 包材对于计算真实产品成本和管理库存至关重要。不追踪包材,成本计算将不完整,库存对账将失败。这与原料同等重要,是BOM系统的核心要素。

**独立测试**: 可以通过创建一个包材SKU(如"高脚杯")、设置其单位为"个"、配置标准成本"2.00元/个",并验证它可以被添加到BOM配方作为组件,来完整测试该功能。

**验收场景**:

1. **假设** 我在SKU创建页面, **当** 我选择SKU类型为"包材",并填写名称"高脚杯"、主单位"个"、标准成本"2.00元/个", **那么** 系统保存该包材SKU,并进行适当的类型分类

2. **假设** 我已创建了杯子和吸管的包材SKU, **当** 我为饮品创建BOM配方, **那么** 我可以将杯子和吸管都添加为BOM组件

3. **假设** 我有包材SKU, **当** 发生库存操作(入库、调拨、消耗)时, **那么** 系统将包材库存与原料库存分开追踪

4. **假设** 我有一个包材SKU, **当** 我配置"允许负库存"为否, **那么** 系统阻止会导致包材库存为负的销售订单

---

### 用户故事 3 - 创建成品SKU (优先级: P2)

作为系统管理员,我需要创建将售卖给顾客的成品SKU(如"威士忌可乐鸡尾酒"、"大份爆米花"),以便我可以定义它们的BOM配方并从组件计算标准成本。

**为什么是这个优先级**: 成品代表可售卖商品。虽然重要,但它们依赖于先定义原料和包材。它们的标准成本从BOM组件计算而非手动维护,使其成为依赖性的第二优先级项目。

**独立测试**: 可以通过创建一个成品SKU(如"威士忌可乐")、关联到包含组件(威士忌45ml、可乐150ml、杯子1个、吸管1根)的BOM配方,并验证系统显示基于组件成本计算的标准成本,来完整测试该功能。

**验收场景**:

1. **假设** 我在SKU创建页面, **当** 我选择SKU类型为"成品",并填写名称"威士忌可乐鸡尾酒"、主单位"杯", **那么** 系统保存该成品SKU,无需手动输入标准成本(成本将从BOM计算)

2. **假设** 我已创建了成品SKU, **当** 我为其定义包含原料和包材组件的BOM配方, **那么** 系统自动计算并显示标准成本,计算公式为 Σ(组件数量 × 组件单位成本) × (1 + 损耗率)

3. **假设** 我有一个已启用BOM的成品SKU, **当** 为该产品创建销售订单, **那么** 系统为所有BOM组件(原料和包材)预占库存

4. **假设** 我有一个成品SKU, **当** 我将其状态设为"已启用"并配置为特定门店, **那么** 该产品仅在配置的门店可售

---

### 用户故事 4 - 创建组合/套餐SKU (优先级: P3)

作为系统管理员,我需要创建组合/套餐SKU(如"观影小吃套餐" = 爆米花 + 可乐 + 票券权益),将多个成品捆绑在一起,以便顾客可以以套餐价格购买组合商品。

**为什么是这个优先级**: 套餐可以提升销售但对基本BOM操作不是必需的。可以在单品正常工作后再实现。这是增值功能而非MVP核心需求。

**独立测试**: 可以通过创建一个套餐SKU(如"观影小吃套餐")、配置其包含2个成品(中杯可乐 + 大份爆米花)、为套餐创建销售订单,并验证系统为所有子项组件预占库存,来完整测试该功能。

**验收场景**:

1. **假设** 我在SKU创建页面, **当** 我选择SKU类型为"组合/套餐",并填写名称"观影小吃套餐", **那么** 系统允许我选择多个成品SKU作为子项,而不是定义BOM

2. **假设** 我已创建了带子项的套餐SKU, **当** 为该套餐创建销售订单, **那么** 系统将套餐展开为其子项,并基于每个子项的BOM组件预占库存

3. **假设** 我有一个套餐SKU, **当** 我计算其标准成本, **那么** 系统汇总所有子项的标准成本(每个都从各自的BOM计算)

4. **假设** 我有一个套餐SKU, **当** 其中一个子项成品被禁用, **那么** 系统警告我套餐包含已禁用商品,并阻止套餐启用

---

### 用户故事 5 - 管理SKU状态和门店范围 (优先级: P2)

作为门店经理或系统管理员,我需要启用/停用SKU,并配置哪些门店可以使用特定SKU,以便我可以控制不同地点的产品可用性,防止未授权使用。

**为什么是这个优先级**: 状态和范围管理对运营控制至关重要,但可以在基本SKU创建工作后实现。这是建立在SKU CRUD基础之上的治理功能。

**独立测试**: 可以通过创建多个SKU、在草稿/已启用/已停用之间切换状态、配置门店范围,并验证已停用SKU不能用于BOM或销售、范围限定的SKU仅出现在其分配的门店,来完整测试该功能。

**验收场景**:

1. **假设** 我有一个已启用的原料SKU, **当** 我将其状态改为"已停用", **那么** 系统阻止该SKU被添加到新BOM配方,并在现有BOM引用它时显示警告

2. **假设** 我有一个仅配置给门店A的成品SKU, **当** 我尝试在门店B创建销售订单, **那么** 该产品不出现在产品选择列表中

3. **假设** 我有一个草稿状态的SKU, **当** 我尝试在BOM或销售订单中使用它, **那么** 系统阻止使用并显示消息"该SKU为草稿状态,不可使用"

4. **假设** 我有多个不同门店范围的SKU, **当** 我按门店筛选SKU列表, **那么** 系统仅显示选定门店可用的SKU

---

### 边界情况

- **成品SKU没有定义BOM时会怎样?** 系统应允许SKU存在但阻止其启用以供销售。应显示警告消息"BOM未配置",标准成本应显示为零或"未计算"。

- **我尝试删除正在被活跃BOM使用的原料SKU时会怎样?** 系统应阻止删除并显示错误,列出哪些BOM配方引用了该SKU。用户必须先从所有BOM中移除该组件或禁用这些BOM才能删除。

- **在BOM已经使用原料后,我将原料单位从"ml"改为"升"会怎样?** 这是严重的数据一致性问题。系统应该:(1)阻止已用于BOM的SKU更改单位,或(2)要求确认并自动更新/重新计算所有依赖的BOM,并警告可能的换算错误。

- **我配置了冲突的门店范围(如成品允许在门店A,但其BOM组件不允许)会怎样?** 系统应在BOM创建/编辑时验证门店范围一致性,如果任何BOM组件在相同门店不可用,则阻止启用成品。

- **我尝试启用套餐SKU但其中一个子项缺货时会怎样?** 系统应允许启用SKU(可用性是运行时检查),但创建销售订单时应检查库存,如果任何子项组件不足则阻止订单确认。

- **我创建重复的SKU编码或条码时会怎样?** 系统应对SKU编码和条码强制唯一性约束,显示验证错误阻止重复创建。

## 需求 *(必填)*

### 功能需求

#### SKU类型管理

- **FR-001**: 系统必须支持四种不同的SKU类型:原料、包材、成品、组合/套餐。后端实现:创建 `backend/src/main/java/com/cinema/domain/Sku.java` 实体类,包含 `skuType` 枚举字段;数据库实现:在 Supabase 创建完整的 `skus` 表,包含 `sku_type VARCHAR(20)` 字段和 CHECK 约束。

- **FR-002**: 系统必须在SKU列表和详情视图中显示适当的类型标签/徽章,以可视化区分SKU类型。实现方式:扩展现有 `frontend/src/components/sku/SkuTable.tsx` 添加类型列,使用 Ant Design Tag 组件显示类型徽章(原料-蓝色、包材-绿色、成品-橙色、套餐-紫色)。

- **FR-003**: 系统必须执行特定类型的验证规则:
  - 原料和包材:需要标准成本输入
  - 成品:标准成本从BOM计算(禁用手动输入)
  - 组合/套餐:标准成本从子项计算(禁用手动输入)

- **FR-004**: 系统必须允许按类型筛选SKU列表(如仅显示原料、仅显示成品)

#### 基础SKU信息

- **FR-005**: 系统必须要求所有SKU类型的以下必填字段:SKU类型、名称、主库存单位

- **FR-006**: 系统必须按格式"SKU######"自动生成唯一SKU编码,其中#是序列号(如SKU000001、SKU000002)

- **FR-007**: 系统必须支持可选字段:规格(spec)、口味、包装形式、自定义属性

- **FR-008**: 系统必须将每个SKU关联到现有的SPU(标准产品单元),从SPU继承品牌和类目

#### 单位和条码配置

- **FR-009**: 系统必须允许配置主库存单位(如ml、个、克、瓶),从预定义的单位主数据中选择

- **FR-010**: 系统必须支持多个销售单位及换算率(如1箱=12瓶、1件=24罐)

- **FR-011**: 系统必须支持每个SKU一个主条码和多个附加条码

- **FR-012**: 系统必须在所有SKU间强制条码唯一性,对重复显示验证错误

#### 库存管理配置

- **FR-013**: 系统必须允许每个SKU切换"管理库存"标志(默认:是)

- **FR-014**: 系统必须允许每个SKU切换"允许负库存"标志(默认:否),建议MVP保持为否

- **FR-015**: 系统必须支持可选配置最小起订量和最小销售量

#### 标准成本管理

- **FR-016**: 对于原料和包材SKU,系统必须允许手动输入带单位的标准成本(如"0.50元/ml"、"2.00元/个")

- **FR-017**: 对于成品SKU,系统必须从BOM计算标准成本,公式为: Σ(组件数量 × 组件单位成本) × (1 + 损耗率)。实现方式:复用 `ProductForm/BomTab.tsx` 的核心逻辑,将其重构为共享组件或自定义 Hook,在 SKU 表单中引用。

- **FR-018**: 对于组合/套餐SKU,系统必须将标准成本计算为所有子项标准成本之和

- **FR-019**: 系统必须在SKU详情视图中显示计算的标准成本,并允许查看成品的成本明细(显示组件级成本)

#### 状态管理

- **FR-020**: 系统必须支持三种SKU状态:草稿、已启用、已停用

- **FR-021**: 系统必须允许状态转换:草稿→已启用、已启用→已停用、已停用→已启用

- **FR-022**: 系统必须阻止在BOM配方、销售订单或库存操作中使用草稿或已停用的SKU(查看除外)

- **FR-023**: 停用SKU时,如果该SKU被活跃BOM引用或有非零库存,系统必须发出警告

#### 门店范围配置

- **FR-024**: 系统必须允许为每个SKU配置门店范围(如"在门店A、门店B、门店C可用"或"在所有门店可用")

- **FR-025**: 系统必须在BOM创建、销售订单创建和库存操作中,基于当前用户的门店上下文筛选可用SKU

- **FR-026**: 启用成品SKU时,系统必须验证门店范围一致性:所有BOM组件必须在相同门店可用

- **FR-027**: 启用组合SKU时,系统必须验证门店范围一致性:所有子项必须在相同门店可用

#### SKU增删改查操作

- **FR-028**: 系统必须支持通过多步骤表单创建新SKU,包含标签页:基础信息、规格属性、单位与条码、其他配置。实现方式:扩展现有 `frontend/src/components/sku/SkuForm/BasicInfoTab.tsx` 添加 SKU 类型选择器,而非创建新表单组件。

- **FR-029**: 系统必须支持编辑现有SKU,同时保持SKU编码只读(创建后不可修改)

- **FR-030**: 系统必须支持查看SKU详情,包括:基础信息、BOM关联(数量)、价格规则(数量)、当前库存总量、场景包关联(数量)

- **FR-031**: 系统必须阻止删除被BOM、活跃库存事务或销售订单引用的SKU。显示错误及引用详情。

- **FR-032**: 系统必须支持批量状态更新(如选择多个SKU并一起启用/停用它们)

#### 搜索和筛选

- **FR-033**: 系统必须支持关键字搜索,匹配SKU编码、名称或条码

- **FR-034**: 系统必须支持按以下条件筛选:SKU类型、SPU、品牌、类目、状态、管理库存标志、门店范围

- **FR-035**: 系统必须支持按以下字段排序:创建日期、更新日期、状态、SKU编码

- **FR-036**: 系统必须支持分页,可配置页面大小(默认:每页20条)

### 关键实体 *(如果功能涉及数据则包含)*

- **SKU(库存保有单位)**: 代表一个独特的可售或可消耗商品,具有唯一编码、名称、类型(原料/包材/成品/组合)、规格、单位配置、库存设置、标准成本、状态(草稿/已启用/已停用)和门店范围。关联到SPU以继承品牌和类目。

- **SKU类型**: 定义四个类别的枚举:原料(生产中消耗的成分)、包材(包装中消耗的杯子、吸管、盒子)、成品(带BOM配方的可售商品)、组合/套餐(成品的捆绑)。

- **单位**: 代表计量单位(ml、升、克、个、瓶、箱),具有类型分类(库存单位 vs 销售单位)。用于主库存单位和销售单位配置。

- **销售单位**: 定义主库存单位和替代销售单位之间的换算率(如1箱=12瓶)。每个SKU可以有多个销售单位。

- **条码**: 与SKU关联的唯一标识字符串(如EAN13、UPC)。需要一个主条码,多个附加条码可选。必须在所有SKU间全局唯一。

- **门店范围**: 定义哪些门店可以查看和使用特定SKU的配置。可以是"所有门店"或特定门店列表。用于授权和筛选。

- **标准成本**: 单位成本值(如"0.50元/ml"),根据SKU类型不同维护方式不同:原料/包材手动输入,成品从BOM计算,组合/套餐从子项计算。

- **SPU(标准产品单元)**: 分组相关SKU的父实体。提供子SKU继承的品牌和类目属性。示例:SPU"可口可乐"→SKU"可口可乐330ml听装"、"可口可乐500ml瓶装"。

## 成功标准 *(必填)*

### 可衡量结果

- **SC-001**: 系统管理员可以通过SKU管理界面创建所有四种类型的SKU(原料、包材、成品、组合/套餐),无需技术支持

- **SC-002**: 100%的已创建SKU拥有格式为"SKU######"的自动生成唯一编码,无重复错误

- **SC-003**: 条码唯一性以100%准确度强制执行 - 重复条码创建尝试被拒绝并显示清晰错误消息

- **SC-004**: 门店范围的SKU在BOM创建和销售订单界面中正确筛选 - 门店A的用户无法看到或选择仅配置给门店B的SKU

- **SC-005**: 成品的标准成本计算准确度达到100% - 计算成本与手动验证(组件成本 × 数量 × (1 + 损耗率))匹配

- **SC-006**: 草稿和已停用SKU以100%强制执行被阻止用于BOM和销售订单 - 无绕过场景

- **SC-007**: SKU状态变更(草稿→已启用、已启用→已停用)在1秒内反映到所有依赖系统(BOM、库存、销售),无同步延迟

- **SC-008**: 用户可以在2分钟内完成原料和包材的基础SKU创建(所有必填字段+保存)

- **SC-009**: 对于多达10,000个SKU的数据集,SKU搜索和筛选操作在1秒内返回结果

- **SC-010**: SKU删除保护100%正确工作 - 无被活跃BOM、库存事务或销售订单引用的SKU可以被删除

## 假设条件

- **AS-001**: 系统已有SPU(标准产品单元)、品牌和类目主数据维护并可在SKU创建时选择

- **AS-002**: 单位主数据(瓶、罐、毫升、克等)已在系统中定义,可在配置SKU单位时选择

- **AS-003**: 门店主数据存在,提供门店列表用于门店范围配置

- **AS-004**: 存在用户认证和授权系统,为当前用户提供门店上下文

- **AS-004.1**: Supabase 数据库中不存在完整的 skus 表或后端 SKU 实体。P001 功能需要从零创建完整的数据库表结构(skus、bom_components、combo_items、unit_conversions)和对应的 Java 实体类。

- **AS-005**: `/products/sku`的现有SKU管理模块提供可以扩展新SKU类型字段的UI框架(多步骤表单、表格、筛选器)。具体实现时应扩展现有组件 (`BasicInfoTab.tsx`, `SkuTable.tsx`, `types/sku.ts`) 而非创建重复组件。

- **AS-006**: BOM配置模块单独存在(`frontend/src/components/product/ProductForm/BomTab.tsx`),其逻辑和UI模式应被复用到SKU表单中,用于成品类型的BOM配置。实现方式:将 BomTab 重构为共享组件(如 `frontend/src/components/shared/BomConfigTab.tsx`) 或提取核心逻辑到自定义 Hook (如 `useBomManagement`),避免在 SKU 表单中重复实现相同功能。

- **AS-007**: 现有 SKU 类型定义 (`frontend/src/types/sku.ts`) 已包含 `SkuStatus` 枚举,新增的 `SkuType` 枚举应添加到同一文件中,保持类型定义集中。

- **AS-007.1**: 前端开发初期使用 MSW (Mock Service Worker) 模拟后端 API 响应,允许前后端并行开发。MSW handlers 应创建在 `frontend/src/mocks/handlers/sku.ts`,模拟所有 SKU CRUD、BOM 配置和成本计算接口。后端 API 完成后,通过环境变量切换到真实接口。

- **AS-008**: 标准成本值以人民币(CNY)维护作为默认货币。多币种支持不在MVP范围内。

- **AS-009**: "允许负库存"标志在MVP中默认为否。如果设为是,即使库存变为负数,库存操作也可能继续(仅用于特殊场景)。

- **AS-010**: SKU编码自动生成且创建后只读。不支持手动编辑编码以维护唯一性完整性。

- **AS-011**: 当成品或组合SKU的状态变更为已启用时,系统假定BOM或子项配置已完成。验证发生在状态变更时,而非持续验证。

## 澄清记录

### 会话 2025-12-24

- Q: 测试数据覆盖的业务场景范围? → A: 影院酒吧场景(鸡尾酒+小吃) - 包含现调饮品、瓶装酒水、爆米花等小吃
- Q: 测试数据的SKU数量规模? → A: 中等规模(15-25个SKU) - 每种类型3-8个,覆盖主要业务场景
- Q: 门店范围测试场景配置方式? → A: 单门店模式 - 所有SKU配置为"全门店可用",简化测试
- Q: BOM配方的复杂度级别? → A: 简单配方 - 每个成品2-3个组件,快速验证BOM基础功能
- Q: 现有 SKU 前端组件的扩展策略? → A: 扩展现有组件 - 在现有 BasicInfoTab、SkuTable、types/sku.ts 中添加 SKU 类型相关字段和逻辑,复用 ProductForm/BomTab 组件
- Q: 后端 SKU 实体和数据库表的现状? → A: 创建全新表结构 - 创建包含所有新字段的完整 skus 表,同时创建 bom_components、combo_items 等新表
- Q: BOM 配置 Tab 的实现策略? → A: 复用现有 BomTab 组件逻辑 - 将 ProductForm/BomTab.tsx 重构为共享组件或提取逻辑到自定义 Hook,在 SkuForm 中复用
- Q: 前端与后端的集成方式? → A: 前后端并行开发,使用 MSW Mock 数据 - 前端使用 MSW handlers 模拟 API 响应,后端并行实现真实接口,完成后切换

## 测试数据规范

### 测试数据场景定义

基于影院酒吧式经营场景,测试数据应包含以下业务品类:

1. **现调鸡尾酒类** - 需要BOM配方的混调饮品(如威士忌可乐、莫吉托)
2. **瓶装/听装饮料类** - 简单成品或无BOM(如瓶装啤酒、听装可乐)
3. **小吃类** - 爆米花、薯片等影院特色小吃
4. **观影套餐类** - 组合多个成品的套餐商品

### SKU数据集规划(中等规模: 15-25个)

#### 原料SKU (5个)
用于鸡尾酒调制和小吃制作的基础原料:

1. **威士忌** - 类型:原料, 单位:ml, 标准成本:0.50元/ml
2. **可乐糖浆** - 类型:原料, 单位:ml, 标准成本:0.02元/ml
3. **薄荷叶** - 类型:原料, 单位:克, 标准成本:0.10元/克
4. **玉米粒(爆米花用)** - 类型:原料, 单位:克, 标准成本:0.05元/克
5. **黄油(爆米花用)** - 类型:原料, 单位:克, 标准成本:0.08元/克

#### 包材SKU (5个)
包装和盛装用的消耗品:

1. **高脚杯** - 类型:包材, 单位:个, 标准成本:2.00元/个
2. **普通杯** - 类型:包材, 单位:个, 标准成本:0.50元/个
3. **吸管** - 类型:包材, 单位:根, 标准成本:0.10元/根
4. **爆米花桶(大)** - 类型:包材, 单位:个, 标准成本:1.50元/个
5. **纸袋** - 类型:包材, 单位:个, 标准成本:0.30元/个

#### 成品SKU (8个)
可直接售卖的商品:

**现调鸡尾酒(需BOM):**
1. **威士忌可乐** - 类型:成品, 单位:杯, BOM组成:威士忌45ml + 可乐糖浆150ml + 高脚杯1个 + 吸管1根
2. **莫吉托** - 类型:成品, 单位:杯, BOM组成:朗姆酒30ml + 薄荷叶5克 + 普通杯1个 + 吸管1根

**简单饮品(简化BOM或无BOM):**
3. **听装可乐330ml** - 类型:成品, 单位:听, BOM组成:可乐听1个(可视为简单包装成品)
4. **瓶装啤酒500ml** - 类型:成品, 单位:瓶, BOM组成:啤酒瓶1个

**小吃类(需BOM):**
5. **大份爆米花** - 类型:成品, 单位:份, BOM组成:玉米粒100克 + 黄油10克 + 爆米花桶(大)1个
6. **中份爆米花** - 类型:成品, 单位:份, BOM组成:玉米粒60克 + 黄油6克 + 爆米花桶(中)1个
7. **薯片** - 类型:成品, 单位:包, BOM组成:薯片袋1个(简单包装成品)

**瓶装水(最简单成品):**
8. **矿泉水** - 类型:成品, 单位:瓶, 无BOM或极简BOM(仅水瓶)

#### 组合/套餐SKU (3个)
捆绑销售的套餐商品:

1. **经典观影套餐** - 类型:组合/套餐, 子项:中份爆米花1份 + 听装可乐330ml 2听
2. **豪华观影套餐** - 类型:组合/套餐, 子项:大份爆米花1份 + 威士忌可乐1杯 + 薯片1包
3. **情侣套餐** - 类型:组合/套餐, 子项:莫吉托2杯 + 大份爆米花1份

### BOM配方复杂度

所有成品BOM保持简单结构(2-3个组件):
- **最简单**: 1个主料 + 1个包材(如矿泉水 = 水瓶)
- **标准配方**: 2个原料 + 1-2个包材(如威士忌可乐 = 威士忌 + 可乐糖浆 + 杯子 + 吸管)
- **套餐**: 2-3个成品组合(如经典观影套餐 = 爆米花 + 可乐×2)

### 门店范围配置

所有SKU统一配置为"全门店可用",不进行门店差异化限制,简化测试验证流程。

### 数据状态分布

为验证状态管理功能,建议分布:
- **已启用**: 80% (12-20个SKU) - 可用于BOM和销售
- **草稿**: 15% (2-4个SKU) - 测试草稿状态限制
- **已停用**: 5% (1个SKU) - 测试停用后的引用警告

### SPU和类目关联

测试数据应关联到以下SPU和类目:
- **SPU**: 可口可乐、百事可乐、威士忌、朗姆酒、爆米花、薯片等
- **类目**: 饮料>碳酸饮料、饮料>酒精饮品、小吃>爆米花、小吃>膨化食品
