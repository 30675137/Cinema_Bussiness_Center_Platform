# ä»£ç å¥åº·æŠ¥å‘Š - Cinema_Bussiness_Center_Platform

**é¡¹ç›®**: Cinema Business Center Platform
**ç”Ÿæˆæ—¶é—´**: 2026-01-05
**æ£€æŸ¥è·¯å¾„**: `/Users/randy/ycj_tools_box/cursor/Cinema_Bussiness_Center_Platform`
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0.0

---

## 1. å¥åº·è¯„åˆ†æ¦‚è§ˆ

### 1.1 ç»¼åˆè¯„åˆ†

| æŒ‡æ ‡ | åˆ†æ•° | ç­‰çº§ | è¯´æ˜ |
|------|------|------|------|
| **ç»¼åˆå¥åº·åº¦** | **62/100** | ğŸŸ¡ D | éœ€è¦æ”¹è¿› |
| ä»£ç è´¨é‡ | 58/100 | ğŸ”´ F | TypeScript any æ»¥ç”¨ä¸¥é‡ |
| å¤æ‚åº¦æ§åˆ¶ | 55/100 | ğŸ”´ F | å¤šä¸ªå·¨å‹æ–‡ä»¶å’Œå¤æ‚ç±» |
| é‡å¤ä»£ç  | 70/100 | ğŸŸ¡ C | Store æ¨¡å¼é‡å¤ |
| æ¶æ„å¥åº· | 65/100 | ğŸŸ¡ D | èŒè´£åˆ’åˆ†éœ€è¦ä¼˜åŒ– |

### 1.2 è¯„åˆ†æ ‡å‡†

| ç­‰çº§ | åˆ†æ•°èŒƒå›´ | è¯´æ˜ |
|------|---------|------|
| ğŸŸ¢ A | 90-100 | ä¼˜ç§€ï¼Œä¿æŒå½“å‰çŠ¶æ€ |
| ğŸŸ¢ B | 80-89 | è‰¯å¥½ï¼Œæœ‰å°æ”¹è¿›ç©ºé—´ |
| ğŸŸ¡ C | 70-79 | ä¸€èˆ¬ï¼Œéœ€è¦å…³æ³¨ |
| ğŸŸ¡ D | 60-69 | è¾ƒå·®ï¼Œéœ€è¦æ”¹è¿› |
| ğŸ”´ F | <60 | ä¸¥é‡ï¼Œéœ€è¦ç«‹å³è¡ŒåŠ¨ |

---

## 2. é¡¹ç›®ç»Ÿè®¡

### 2.1 ä»£ç è§„æ¨¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä»£ç è§„æ¨¡ç»Ÿè®¡                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯ (React/TypeScript)                                â”‚
â”‚  â”œâ”€â”€ æºæ–‡ä»¶æ•°é‡: 753 ä¸ª                                  â”‚
â”‚  â”œâ”€â”€ ä»£ç è¡Œæ•°: ~203,000 è¡Œ                               â”‚
â”‚  â””â”€â”€ ä¸»è¦ç›®å½•: frontend/src/                            â”‚
â”‚                                                         â”‚
â”‚  åç«¯ (Java/Spring Boot)                                â”‚
â”‚  â”œâ”€â”€ æºæ–‡ä»¶æ•°é‡: 431 ä¸ª                                  â”‚
â”‚  â”œâ”€â”€ ä»£ç è¡Œæ•°: ~60,500 è¡Œ                                â”‚
â”‚  â””â”€â”€ ä¸»è¦ç›®å½•: backend/src/main/java/                   â”‚
â”‚                                                         â”‚
â”‚  å…¶ä»–æ¨¡å—                                                â”‚
â”‚  â”œâ”€â”€ miniapp-ordering-taro/: å°ç¨‹åºç‚¹é¤                  â”‚
â”‚  â”œâ”€â”€ hall-reserve-taro/: åœºåœ°é¢„çº¦ H5                     â”‚
â”‚  â””â”€â”€ specs/: éœ€æ±‚è§„çº¦æ–‡æ¡£                                â”‚
â”‚                                                         â”‚
â”‚  æ€»è®¡: ~263,500 è¡Œä»£ç                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 é—®é¢˜åˆ†å¸ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é—®é¢˜åˆ†å¸ƒç»Ÿè®¡                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”´ ä¸¥é‡é—®é¢˜: 8 ä¸ª                                       â”‚
â”‚  ğŸŸ  é«˜å±é—®é¢˜: 15 ä¸ª                                      â”‚
â”‚  ğŸŸ¡ ä¸­ç­‰é—®é¢˜: 23 ä¸ª                                      â”‚
â”‚  ğŸŸ¢ ä½å±é—®é¢˜: 40+ ä¸ª                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é—ç•™æ ‡è®°ç»Ÿè®¡                                            â”‚
â”‚  â”œâ”€â”€ å‰ç«¯ TODO/FIXME: 127 å¤„ (30 ä¸ªæ–‡ä»¶)                 â”‚
â”‚  â”œâ”€â”€ åç«¯ TODO/FIXME: 59 å¤„ (24 ä¸ªæ–‡ä»¶)                  â”‚
â”‚  â””â”€â”€ æ€»è®¡: 186 å¤„                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ä¸¥é‡é—®é¢˜è¯¦æƒ…

### 3.1 å·¨å‹æ–‡ä»¶ - å‰ç«¯ (Top 20)

è¶…è¿‡ 300 è¡Œé˜ˆå€¼çš„æ–‡ä»¶ï¼ŒæŒ‰è¡Œæ•°é™åºæ’åˆ—ï¼š

| æ’å | æ–‡ä»¶è·¯å¾„ | è¡Œæ•° | è¶…æ ‡å€æ•° | é£é™©ç­‰çº§ |
|------|----------|------|----------|----------|
| 1 | `src/services/inventoryMockData.ts` | 1,576 | 5.3x | ğŸ”´ ä¸¥é‡ |
| 2 | `src/services/mockApi.ts` | 1,562 | 5.2x | ğŸ”´ ä¸¥é‡ |
| 3 | `src/stores/transferStore.ts` | 1,422 | 4.7x | ğŸ”´ ä¸¥é‡ |
| 4 | `src/components/sku/SkuSimpleForm.tsx` | 1,166 | 3.9x | ğŸ”´ ä¸¥é‡ |
| 5 | `src/components/layout/Router.tsx` | 1,082 | 3.6x | ğŸ”´ ä¸¥é‡ |
| 6 | `src/utils/navigation.ts` | 1,059 | 3.5x | ğŸ”´ ä¸¥é‡ |
| 7 | `src/services/attributeService.ts` | 1,027 | 3.4x | ğŸ”´ ä¸¥é‡ |
| 8 | `src/mocks/data/skuTestData.ts` | 1,023 | 3.4x | ğŸ”´ ä¸¥é‡ |
| 9 | `src/services/spuService.ts` | 997 | 3.3x | ğŸŸ  é«˜å± |
| 10 | `src/stores/receiptStore.ts` | 944 | 3.1x | ğŸŸ  é«˜å± |
| 11 | `src/components/sku/SkuForm/index.tsx` | 933 | 3.1x | ğŸŸ  é«˜å± |
| 12 | `src/pages/product/ProductForm/index.tsx` | 925 | 3.1x | ğŸŸ  é«˜å± |
| 13 | `src/stores/inventoryStore.ts` | 865 | 2.9x | ğŸŸ  é«˜å± |
| 14 | `src/services/__tests__/skuService.test.ts` | 844 | 2.8x | ğŸŸ  é«˜å± |
| 15 | `src/mocks/handlers/attributeHandlers.ts` | 830 | 2.8x | ğŸŸ  é«˜å± |
| 16 | `src/components/transfer/TransferDetail.tsx` | 825 | 2.8x | ğŸŸ  é«˜å± |
| 17 | `src/stores/supplierStore.ts` | 785 | 2.6x | ğŸŸ  é«˜å± |
| 18 | `src/components/Attribute/AttributeTemplate.tsx` | 784 | 2.6x | ğŸŸ  é«˜å± |
| 19 | `src/components/transfer/TransferList.tsx` | 782 | 2.6x | ğŸŸ  é«˜å± |
| 20 | `src/utils/validation.ts` | 770 | 2.6x | ğŸŸ  é«˜å± |

**é—®é¢˜åˆ†æ**:
- Mock æ•°æ®æ–‡ä»¶è¿‡å¤§ (inventoryMockData.ts, mockApi.ts) è¡¨æ˜æµ‹è¯•æ•°æ®ç®¡ç†ç­–ç•¥éœ€è¦æ”¹è¿›
- Store æ–‡ä»¶æ™®éè¿‡å¤§ï¼ŒèŒè´£è¿‡å¤š (transferStore, receiptStore, inventoryStore, supplierStore)
- è¡¨å•ç»„ä»¶è¿‡äºå¤æ‚ (SkuSimpleForm, SkuForm, ProductForm)

**é‡æ„å»ºè®®**:
1. **Mock æ•°æ®**: ä½¿ç”¨ factory æ¨¡å¼ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼ŒæŒ‰æ¨¡å—æ‹†åˆ†
2. **Store**: æ‹†åˆ†ä¸º data store + ui storeï¼Œæå–å…¬å…±é€»è¾‘ä¸º hooks
3. **è¡¨å•ç»„ä»¶**: æ‹†åˆ†ä¸ºå°ç»„ä»¶ï¼Œä½¿ç”¨ compound component æ¨¡å¼

### 3.2 å·¨å‹æ–‡ä»¶ - åç«¯ (Top 15)

| æ’å | æ–‡ä»¶è·¯å¾„ | è¡Œæ•° | è¶…æ ‡å€æ•° | é£é™©ç­‰çº§ |
|------|----------|------|----------|----------|
| 1 | `ScenarioPackageService.java` | 1,067 | 3.6x | ğŸ”´ ä¸¥é‡ |
| 2 | `ScenarioPackageServiceTest.java` | 685 | 2.3x | ğŸŸ  é«˜å± |
| 3 | `BeverageAdminServiceImpl.java` | 666 | 2.2x | ğŸŸ  é«˜å± |
| 4 | `ReservationOrderService.java` | 642 | 2.1x | ğŸŸ  é«˜å± |
| 5 | `GlobalExceptionHandler.java` | 608 | 2.0x | ğŸŸ  é«˜å± |
| 6 | `OrderStatisticsService.java` | 545 | 1.8x | ğŸŸ¡ ä¸­ç­‰ |
| 7 | `ScenarioPackageController.java` | 528 | 1.8x | ğŸŸ¡ ä¸­ç­‰ |
| 8 | `ChannelProductService.java` | 478 | 1.6x | ğŸŸ¡ ä¸­ç­‰ |
| 9 | `ScenarioPackageDTO.java` | 462 | 1.5x | ğŸŸ¡ ä¸­ç­‰ |
| 10 | `ReservationOrder.java` | 450 | 1.5x | ğŸŸ¡ ä¸­ç­‰ |

**é—®é¢˜åˆ†æ - ScenarioPackageService.java (æœ€ä¸¥é‡)**:
```java
// è¯¥ç±»æ³¨å…¥äº† 13 ä¸ªä¾èµ–ï¼Œå…¸å‹çš„ God Class åæ¨¡å¼
private final ScenarioPackageRepository packageRepository;
private final PackageRuleRepository ruleRepository;
private final PackageHallAssociationRepository hallAssociationRepository;
private final PackageBenefitRepository benefitRepository;
private final PackageItemRepository itemRepository;
private final PackageServiceItemRepository serviceRepository;
private final PackagePricingRepository pricingRepository;
private final StoreAssociationRepository storeAssociationRepository;
private final StoreService storeService;
private final PackageTierRepository tierRepository;
private final AddonItemRepository addonItemRepository;
private final PackageAddonRepository packageAddonRepository;
private final TimeSlotTemplateRepository timeSlotTemplateRepository;
// ... è¿˜æœ‰æ›´å¤š
```

**é‡æ„å»ºè®®**:
```
ScenarioPackageService (1,067è¡Œ)
        â†“ æ‹†åˆ†ä¸º
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PackageCoreServiceâ”‚ PackagePricing   â”‚ PackageStore     â”‚
â”‚   (~300è¡Œ)        â”‚ Service (~200è¡Œ) â”‚ Service (~200è¡Œ) â”‚
â”‚ - CRUD æ“ä½œ       â”‚ - å®šä»·é€»è¾‘       â”‚ - é—¨åº—å…³è”       â”‚
â”‚ - åŸºç¡€éªŒè¯        â”‚ - æŠ˜æ‰£è®¡ç®—       â”‚ - æ—¶æ®µç®¡ç†       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
       PackageAddon    PackageBenefit   PackageRule
       Service         Service          Service
```

### 3.3 TypeScript `any` ç±»å‹æ»¥ç”¨

**æ£€æµ‹ç»“æœ**:

| ç±»å‹ | å‡ºç°æ¬¡æ•° | æ¶‰åŠæ–‡ä»¶æ•° |
|------|----------|-----------|
| `as any` | ~95 | 30+ |
| `: any` | ~106 | 30+ |
| **æ€»è®¡** | **~201** | **60+** |

**é«˜é£é™©æ–‡ä»¶è¯¦æƒ…**:

| æ–‡ä»¶ | any ä½¿ç”¨æ¬¡æ•° | ä¸»è¦é—®é¢˜ |
|------|-------------|----------|
| `store/inventoryStore.ts` | 31 | ç±»å‹å®šä¹‰ç¼ºå¤± |
| `stores/baseStore.ts` | 22 | æ³›å‹ä½¿ç”¨ä¸å½“ |
| `services/purchaseOrderService.ts` | 19 | API å“åº”ç±»å‹ç¼ºå¤± |
| `utils/helpers.ts` | 19 | å·¥å…·å‡½æ•°ç±»å‹ä¸æ˜ç¡® |
| `utils/fileProcessing.ts` | 16 | æ–‡ä»¶å¤„ç†ç±»å‹ç¼ºå¤± |
| `services/categoryService.ts` | 15 | æœåŠ¡ç±»å‹ä¸å®Œæ•´ |
| `utils/errorHandling.ts` | 15 | é”™è¯¯å¤„ç†ç±»å‹ç¼ºå¤± |
| `services/attributeService.ts` | 14 | API ç±»å‹ä¸å®Œæ•´ |
| `pages/mdm-pim/brand/hooks/useBrandActions.ts` | 13 | Hook è¿”å›ç±»å‹ç¼ºå¤± |

**ä¿®å¤ç¤ºä¾‹**:

```typescript
// âŒ é—®é¢˜ä»£ç 
const handleResponse = (data: any) => {
  return data.items as any[];
};

// âœ… ä¿®å¤å
interface ApiResponse<T> {
  items: T[];
  total: number;
  page: number;
}

const handleResponse = <T>(data: ApiResponse<T>): T[] => {
  return data.items;
};
```

### 3.4 ä»£ç å¤æ‚åº¦åˆ†æ

**åç«¯å¤æ‚åº¦ Top 5**:

| æ–‡ä»¶ | æ§åˆ¶æµè¯­å¥æ•° | åœˆå¤æ‚åº¦ä¼°ç®— | é£é™©ç­‰çº§ |
|------|-------------|-------------|----------|
| `ScenarioPackageService.java` | 79 | ~80 | ğŸ”´ æé«˜ |
| `BeverageAdminServiceImpl.java` | ~50 | ~52 | ğŸŸ  é«˜ |
| `ReservationOrderService.java` | ~45 | ~47 | ğŸŸ  é«˜ |
| `GlobalExceptionHandler.java` | ~40 | ~42 | ğŸŸ  é«˜ |
| `ChannelProductService.java` | ~35 | ~37 | ğŸŸ¡ ä¸­ç­‰ |

**å‰ç«¯å¤æ‚åº¦ Top 5**:

| æ–‡ä»¶ | æ§åˆ¶æµè¯­å¥æ•° | åœˆå¤æ‚åº¦ä¼°ç®— | é£é™©ç­‰çº§ |
|------|-------------|-------------|----------|
| `transferStore.ts` | 75 | ~77 | ğŸ”´ æé«˜ |
| `receiptStore.ts` | ~55 | ~57 | ğŸŸ  é«˜ |
| `inventoryStore.ts` | ~50 | ~52 | ğŸŸ  é«˜ |
| `navigation.ts` | ~45 | ~47 | ğŸŸ  é«˜ |
| `validation.ts` | ~40 | ~42 | ğŸŸ¡ ä¸­ç­‰ |

---

## 4. ä»£ç å¼‚å‘³æ£€æµ‹

### 4.1 React å‰ç«¯å¼‚å‘³

| å¼‚å‘³ç±»å‹ | æ£€æµ‹æ•°é‡ | ä¸¥é‡ç¨‹åº¦ | è¯´æ˜ |
|----------|----------|----------|------|
| å·¨å‹ç»„ä»¶ (>200è¡Œ) | 25+ | ğŸ”´ é«˜ | ç»„ä»¶èŒè´£è¿‡å¤š |
| å†…è”æ ·å¼æ»¥ç”¨ | 413 å¤„ | ğŸŸ  ä¸­ | style={} ä½¿ç”¨è¿‡å¤š |
| any ç±»å‹æ»¥ç”¨ | 201 å¤„ | ğŸ”´ é«˜ | ç±»å‹å®‰å…¨é—®é¢˜ |
| Props é€ä¼  | å¾…æ£€æµ‹ | - | éœ€è¦è¿›ä¸€æ­¥åˆ†æ |

**å†…è”æ ·å¼é«˜é£é™©æ–‡ä»¶**:

| æ–‡ä»¶ | style={} æ¬¡æ•° |
|------|--------------|
| `BrandManagement/index.tsx` | 38 |
| `PricingList.tsx` | 31 |
| `pricing/ChannelPriceManager/index.tsx` | 21 |
| `pricing/PricingStrategyForm/index.tsx` | 19 |
| `pricing/PricingApproval/index.tsx` | 16 |
| `price/PriceForm/PriceRuleConfig.tsx` | 30 |
| `HomePage.tsx` | 25 |

### 4.2 Java åç«¯å¼‚å‘³

| å¼‚å‘³ç±»å‹ | æ£€æµ‹æ•°é‡ | ä¸¥é‡ç¨‹åº¦ | è¯´æ˜ |
|----------|----------|----------|------|
| God Class | 4 | ğŸ”´ é«˜ | ç±»èŒè´£è¿‡å¤šã€ä¾èµ–è¿‡å¤š |
| é•¿æ–¹æ³• (>50è¡Œ) | 15+ | ğŸŸ  ä¸­ | æ–¹æ³•èŒè´£ä¸å•ä¸€ |
| å‚æ•°è¿‡å¤š (>5ä¸ª) | å¾…æ£€æµ‹ | - | éœ€è¦è¿›ä¸€æ­¥åˆ†æ |
| ä¾èµ–æ³¨å…¥è¿‡å¤š (>7ä¸ª) | 3 | ğŸ”´ é«˜ | è¿åå•ä¸€èŒè´£ |

**God Class è¯¦æƒ…**:

| ç±»å | è¡Œæ•° | ä¾èµ–æ³¨å…¥æ•° | æ–¹æ³•æ•°ä¼°ç®— |
|------|------|-----------|-----------|
| `ScenarioPackageService` | 1,067 | 13 | 30+ |
| `BeverageAdminServiceImpl` | 666 | 8+ | 20+ |
| `ReservationOrderService` | 642 | 7+ | 20+ |
| `ChannelProductService` | 478 | 6+ | 15+ |

---

## 5. é‡å¤ä»£ç åˆ†æ

### 5.1 Store æ¨¡å¼é‡å¤

é¡¹ç›®ä¸­æœ‰ 18 ä¸ª Store æ–‡ä»¶ï¼Œå­˜åœ¨ä»¥ä¸‹é‡å¤æ¨¡å¼ï¼š

```typescript
// æ‰€æœ‰ Store éƒ½é‡å¤å®šä¹‰ä»¥ä¸‹çŠ¶æ€
interface XXXState {
  loading: boolean;           // é‡å¤ 18 æ¬¡
  error: string | null;       // é‡å¤ 18 æ¬¡
  pagination: {               // é‡å¤ 15+ æ¬¡
    current: number;
    pageSize: number;
    total: number;
  };
  selectedXXXIds: string[];   // é‡å¤ 12+ æ¬¡
  filters: XXXQueryParams;    // é‡å¤ 15+ æ¬¡
}
```

**Store æ–‡ä»¶æ¸…å•**:

| æ–‡ä»¶ | è¡Œæ•° | åŒ…å«é‡å¤æ¨¡å¼ |
|------|------|-------------|
| `transferStore.ts` | 1,422 | loading, error, pagination, selected |
| `receiptStore.ts` | 944 | loading, error, pagination, selected |
| `inventoryStore.ts` | 865 | loading, error, pagination, selected |
| `supplierStore.ts` | 785 | loading, error, pagination, selected |
| `purchaseOrderStore.ts` | - | loading, error, pagination, selected |
| `auditStore.ts` | - | loading, error, pagination, selected |
| `brandStore.ts` | - | loading, error, pagination, selected |
| `categoryStore.ts` | - | loading, error, pagination, selected |
| `priceStore.ts` | - | loading, error, pagination, selected |
| `productStore.ts` | - | loading, error, pagination, selected |
| `skuStore.ts` | - | loading, error, pagination, selected |
| `spuStore.ts` | - | loading, error, pagination, selected |
| `skuManagementStore.ts` | - | loading, error, pagination, selected |
| `navigationStore.ts` | - | loading, error |
| `userStore.ts` | - | loading, error |
| `appStore.ts` | - | loading, error |

**é‡æ„å»ºè®® - åˆ›å»º baseStore å·¥å‚**:

```typescript
// å·²æœ‰ baseStore.tsï¼Œä½†æœªå……åˆ†åˆ©ç”¨
// å»ºè®®å¢å¼ºä¸ºï¼š

interface BaseState {
  loading: boolean;
  error: string | null;
}

interface PaginatedState<T> extends BaseState {
  items: T[];
  pagination: Pagination;
  filters: Record<string, any>;
  selectedIds: string[];
}

function createPaginatedStore<T>() {
  return create<PaginatedState<T>>()((set, get) => ({
    // ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†é€»è¾‘
  }));
}
```

### 5.2 åç«¯ Service æ¨¡å¼é‡å¤

30+ ä¸ª Service ç±»å­˜åœ¨ç›¸ä¼¼çš„ CRUD ç»“æ„ï¼š

```java
// é‡å¤æ¨¡å¼
@Service
public class XXXService {
    private final XXXRepository repository;

    public XXX create(CreateXXXRequest request) { ... }
    public XXX update(Long id, UpdateXXXRequest request) { ... }
    public void delete(Long id) { ... }
    public XXX findById(Long id) { ... }
    public Page<XXX> findAll(Pageable pageable) { ... }
}
```

**é‡æ„å»ºè®® - æ³›å‹åŸºç±»**:

```java
public abstract class BaseService<T, ID> {
    protected abstract JpaRepository<T, ID> getRepository();

    public T create(T entity) { ... }
    public T update(ID id, T entity) { ... }
    public void delete(ID id) { ... }
    public Optional<T> findById(ID id) { ... }
    public Page<T> findAll(Pageable pageable) { ... }
}
```

---

## 6. æŠ€æœ¯å€ºåŠ¡æ¸…å•

### 6.1 ç´§æ€¥ (æœ¬å‘¨å¤„ç†)

| ID | ç±»å‹ | æ ‡é¢˜ | æ–‡ä»¶ | é¢„ä¼°å·¥æ—¶ |
|----|------|------|------|----------|
| DEBT-001 | è®¾è®¡ | ScenarioPackageService æ‹†åˆ† | `ScenarioPackageService.java` | 3d |
| DEBT-002 | è®¾è®¡ | transferStore èŒè´£åˆ†ç¦» | `transferStore.ts` | 2d |

### 6.2 é«˜ä¼˜å…ˆçº§ (æœ¬æœˆå¤„ç†)

| ID | ç±»å‹ | æ ‡é¢˜ | å½±å“èŒƒå›´ | é¢„ä¼°å·¥æ—¶ |
|----|------|------|----------|----------|
| DEBT-003 | ä»£ç  | æ¶ˆé™¤ any ç±»å‹ | 60+ æ–‡ä»¶ | 1w |
| DEBT-004 | è®¾è®¡ | Store æ¶æ„ç»Ÿä¸€ | 18 ä¸ª store | 3d |
| DEBT-005 | ä»£ç  | åç«¯ Service é‡æ„ | 4 ä¸ª God Class | 3d |

### 6.3 ä¸­ä¼˜å…ˆçº§ (æœ¬å­£åº¦å¤„ç†)

| ID | ç±»å‹ | æ ‡é¢˜ | å½±å“èŒƒå›´ | é¢„ä¼°å·¥æ—¶ |
|----|------|------|----------|----------|
| DEBT-006 | ä»£ç  | å†…è”æ ·å¼è¿ç§» | 50+ ç»„ä»¶ | 3d |
| DEBT-007 | è®¾è®¡ | Mock æ•°æ®é‡æ„ | æµ‹è¯•ç›¸å…³ | 2d |
| DEBT-008 | æ–‡æ¡£ | TODO/FIXME æ¸…ç† | 186 å¤„ | 2d |

### 6.4 ä½ä¼˜å…ˆçº§ (æŒç»­æ”¹è¿›)

| ID | ç±»å‹ | æ ‡é¢˜ | è¯´æ˜ | é¢„ä¼°å·¥æ—¶ |
|----|------|------|------|----------|
| DEBT-009 | æµ‹è¯• | è¡¥å……å•å…ƒæµ‹è¯• | æé«˜è¦†ç›–ç‡ | æŒç»­ |
| DEBT-010 | æ–‡æ¡£ | API æ–‡æ¡£æ›´æ–° | ä¿æŒåŒæ­¥ | æŒç»­ |

---

## 7. é‡æ„è·¯çº¿å›¾

### Phase 1: ç´§æ€¥ä¿®å¤ (Week 1)

```
ç›®æ ‡: è§£å†³æœ€ä¸¥é‡çš„æ¶æ„é—®é¢˜

1. ScenarioPackageService.java æ‹†åˆ†
   â”œâ”€â”€ åˆ›å»º PackagePricingService
   â”œâ”€â”€ åˆ›å»º PackageStoreAssociationService
   â”œâ”€â”€ åˆ›å»º PackageTimeSlotService
   â””â”€â”€ é‡æ„ä¸» Service ä¸ºç¼–æ’å±‚

2. transferStore.ts èŒè´£åˆ†ç¦»
   â”œâ”€â”€ æå– useTransferUI hook
   â”œâ”€â”€ æå– useTransferForm hook
   â””â”€â”€ ç®€åŒ–ä¸» store ä¸ºæ•°æ®å±‚
```

### Phase 2: ç±»å‹å®‰å…¨ (Week 2-3)

```
ç›®æ ‡: æ¶ˆé™¤ any ç±»å‹ï¼Œæé«˜ç±»å‹å®‰å…¨

1. å®šä¹‰æ ¸å¿ƒä¸šåŠ¡ç±»å‹
   â”œâ”€â”€ API å“åº”ç±»å‹
   â”œâ”€â”€ ä¸šåŠ¡å®ä½“ç±»å‹
   â””â”€â”€ å·¥å…·å‡½æ•°ç±»å‹

2. é€æ­¥æ›¿æ¢ any
   â”œâ”€â”€ ä¼˜å…ˆå¤„ç†é«˜ä½¿ç”¨é¢‘ç‡æ–‡ä»¶
   â”œâ”€â”€ æ·»åŠ ç±»å‹æµ‹è¯•
   â””â”€â”€ æ›´æ–°ç›¸å…³æ–‡æ¡£
```

### Phase 3: æ¶æ„ä¼˜åŒ– (Week 4-6)

```
ç›®æ ‡: ç»Ÿä¸€ä»£ç æ¶æ„æ¨¡å¼

1. Store æ¶æ„ç»Ÿä¸€
   â”œâ”€â”€ å¢å¼º baseStore å·¥å‚
   â”œâ”€â”€ è¿ç§»ç°æœ‰ store
   â””â”€â”€ ç»Ÿä¸€çŠ¶æ€ç®¡ç†æ¨¡å¼

2. åç«¯ Service é‡æ„
   â”œâ”€â”€ åˆ›å»º BaseService æ³›å‹åŸºç±»
   â”œâ”€â”€ æ‹†åˆ† God Class
   â””â”€â”€ ä¼˜åŒ–ä¾èµ–æ³¨å…¥
```

### Phase 4: æŒç»­æ”¹è¿› (Ongoing)

```
ç›®æ ‡: ä¿æŒä»£ç å¥åº·

1. å»ºç«‹ä»£ç å®¡æŸ¥æ ‡å‡†
2. é…ç½®é™æ€åˆ†æå·¥å…·
3. å®šæœŸç”Ÿæˆå¥åº·æŠ¥å‘Š
4. æ¸…ç†æŠ€æœ¯å€ºåŠ¡
```

---

## 8. äº®ç‚¹ä¸å»ºè®®

### 8.1 é¡¹ç›®äº®ç‚¹

- âœ… **é¡¹ç›®ç»“æ„æ¸…æ™°**: å‰åç«¯åˆ†ç¦»ï¼Œæ¨¡å—åŒ–ç»„ç»‡
- âœ… **ç°ä»£æŠ€æœ¯æ ˆ**: React + TypeScript + Zustand + Spring Boot
- âœ… **æœ‰æŠ½è±¡å°è¯•**: baseStore.ts è¡¨æ˜å›¢é˜Ÿæœ‰æŠ½è±¡æ„è¯†
- âœ… **æµ‹è¯•è¦†ç›–**: å­˜åœ¨å•å…ƒæµ‹è¯•å’Œ E2E æµ‹è¯•
- âœ… **æ–‡æ¡£æ„è¯†**: æœ‰ specs ç›®å½•ç®¡ç†éœ€æ±‚è§„çº¦

### 8.2 æ”¹è¿›å»ºè®®

1. **å»ºç«‹ä»£ç è§„èŒƒ**
   - é…ç½® ESLint è§„åˆ™ç¦æ­¢ any
   - è®¾ç½®æ–‡ä»¶è¡Œæ•°ä¸Šé™å‘Šè­¦
   - æ·»åŠ å¤æ‚åº¦æ£€æŸ¥

2. **å¼•å…¥è‡ªåŠ¨åŒ–æ£€æŸ¥**
   - é›†æˆ SonarQube æˆ–ç±»ä¼¼å·¥å…·
   - CI/CD ä¸­åŠ å…¥ä»£ç è´¨é‡é—¨ç¦
   - å®šæœŸç”Ÿæˆå¥åº·æŠ¥å‘Š

3. **é‡æ„ä¼˜å…ˆçº§**
   - ä¼˜å…ˆå¤„ç†é«˜é¢‘ä¿®æ”¹çš„æ–‡ä»¶
   - å…ˆè§£å†³æ¶æ„é—®é¢˜ï¼Œå†å¤„ç†ä»£ç é—®é¢˜
   - æ¸è¿›å¼é‡æ„ï¼Œé¿å…å¤§è§„æ¨¡é‡å†™

---

## 9. é™„å½•

### 9.1 æ£€æµ‹å·¥å…·ç‰ˆæœ¬

| å·¥å…· | ç”¨é€” |
|------|------|
| Code Health Guardian | Skill v1.0.0 |
| æ–‡ä»¶åˆ†æ | wc, find, grep |
| æ¨¡å¼æ£€æµ‹ | ripgrep |

### 9.2 é˜ˆå€¼é…ç½®

| æŒ‡æ ‡ | è­¦å‘Šé˜ˆå€¼ | ä¸¥é‡é˜ˆå€¼ |
|------|---------|---------|
| æ–‡ä»¶è¡Œæ•° | 300 | 500 |
| å‡½æ•°è¡Œæ•° | 50 | 100 |
| åœˆå¤æ‚åº¦ | 10 | 20 |
| ä¾èµ–æ³¨å…¥æ•° | 7 | 10 |

### 9.3 å¿½ç•¥çš„ç›®å½•

```
- node_modules/
- target/
- build/
- dist/
- coverage/
- .git/
```

---

*æœ¬æŠ¥å‘Šç”± Code Health Guardian è‡ªåŠ¨ç”Ÿæˆ*
*ç”Ÿæˆæ—¶é—´: 2026-01-05*
*é¡¹ç›®: Cinema_Bussiness_Center_Platform*
